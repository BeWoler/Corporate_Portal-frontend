{"version":3,"sources":["components/UserBar/UserBar.tsx","components/NavBar/MobileNavBar.tsx","components/Header/Header.tsx","components/NavBar/NavBar.tsx","components/Layout/Layout.tsx","components/Title/Title.tsx","components/LoginForm/LoginForm.tsx","Pages/Login/LoginPage.tsx","components/RegistrationForm/RegistrationForm.tsx","Pages/Registration/RegistrationPage.tsx","components/SettingsForm/SettingsForm.tsx","components/SettingsForm/SettingsBtnsForm.tsx","Pages/Settings/UserSettingsPage.tsx","components/ChangePasswordForm/ChangePasswordForm.tsx","Pages/ChangePassword/ChangePasswordPage.tsx","http/axios.ts","services/PostService.ts","components/Posts/CreatePostForm.tsx","components/Posts/Comment.tsx","components/Posts/CreateCommentForm.tsx","components/Posts/DeletePost.tsx","components/Posts/EditPost.tsx","components/Posts/PostList.tsx","components/UserPosts/UserPosts.tsx","components/UserFriends/UserFriends.tsx","components/UsersProfile/UserProfile.tsx","services/FriendsService.ts","components/UsersProfile/AddFriend.tsx","services/UserService.ts","components/UsersProfile/PrivateProfile.tsx","services/ConverstionService.ts","components/UsersProfile/SendMessage.tsx","components/UsersProfile/OtherUserProfile.tsx","Pages/Profile/UserProfilePage.tsx","components/FetchMore/FetchMore.tsx","components/BoardPosts/BoardPosts.tsx","Pages/Board/Board.tsx","components/UserFriends/DeleteFriendBtn.tsx","components/FriendsList/FriendsList.tsx","components/FriendsRequest/FriendsRequest.tsx","Pages/Friends/Friends.tsx","Admin/Services/AdminService.ts","Admin/Users/DeleteUser.tsx","Admin/Users/EditUser.tsx","Admin/Users/CurrentUser.tsx","Admin/Users/Users.tsx","Admin/Users/ChangeUserPassword.tsx","Admin/Users/ChangeUserAvatar.tsx","Admin/Registration/Registration.tsx","Admin/Admin.tsx","hoc/RequireAuth.tsx","hoc/AfterAuth.tsx","Pages/404/StatusPage.tsx","hoc/RequireAdminAuth.tsx","components/UserFilter/UserFilter.tsx","components/AllUsers/AllUsers.tsx","components/AllUsers/Users.tsx","Pages/UsersPage/UsersPage.tsx","components/ChangeAvatarForm/ChangeAvatarPreview.tsx","components/ChangeAvatarForm/ChangeAvatarForm.tsx","components/ChangeAvatarForm/ChangeAvatar.tsx","Pages/ChangeAvatar/ChangeAvatarPage.tsx","services/MessageService.ts","components/Conversation/Conversation.tsx","components/Message/Message.tsx","components/Messenger/Messenger.tsx","Pages/MessengerPage/MessengerPage.tsx","routes/AppRouter.tsx","components/App/App.tsx","services/LoginService.ts","services/RegistrationService.ts","services/LogoutService.ts","services/DeleteService.ts","services/EditProfileService.ts","services/ChangePasswordService.ts","store/store.ts","index.tsx"],"names":["UserBar","store","useContext","Context","className","to","user","id","email","Avatar","src","avatar","sx","cursor","width","height","marginLeft","bgcolor","MobileNavBar","mobileNav","useRef","burger","linkStyle","color","verticalAlign","marginRight","isAuth","closeMenu","current","classList","replace","onClick","contains","ref","logout","Header","apiIconStyles","NavBar","Layout","useLocation","pathname","Title","observer","useState","username","setUsername","password","setPassword","inputStyles","margin","borderBottom","error","Input","placeholder","type","onChange","e","target","value","autoComplete","Button","variant","backgroundColor","a","login","checkAuth","LoginPage","setEmail","firstName","setFirstName","lastName","setLastName","registration","RegistrationPage","birthday","setBirthday","city","setCity","stack","setStack","position","setPosition","department","setDepartment","education","setEducation","skype","setSkype","phone","setPhone","messagesFromFriend","setMessagesFromFriend","privatePage","setPrivatePage","description","setDescription","successMessage","Switch","checked","name","inputProps","multiline","editProfile","delete","oldPassword","setOldPassword","newPassword","setNewPassword","required","changePass","ChangePasswordPage","API_URL","api","axios","create","withCredentials","baseURL","adminApi","interceptors","request","use","config","headers","Authorization","localStorage","getItem","response","originalRequest","status","_isRetry","get","setItem","data","accessToken","console","log","PostService","userId","text","fileName","post","edit","patch","getUserPostByUsername","getUserPostByUserId","getAllPosts","limit","like","CreatePostForm","createPost","img","setImg","postText","setPostText","file","setFile","fileUpload","preventDefault","formData","FormData","append","res","path","filePreview","href","download","alt","encType","reader","FileReader","files","onloadend","result","readAsDataURL","fileChange","disabled","Comment","avatarStyle","comments","length","map","comment","_id","format","time","CreateCommentForm","createComment","setComment","fontSize","DeletePost","deletePost","EditPost","editPost","PostList","posts","addLike","addComment","location","isOpen","setIsOpen","setEdit","currentId","split","reverse","likes","includes","transition","transform","UserPosts","setPosts","getUserPosts","postId","useEffect","then","UserFriends","friends","avatarStyles","overflow","friend","avatarSrc","borderRadius","boxShadow","join","FriendsService","receiverId","senderId","requestId","friendId","AddFriend","navigate","useNavigate","addFriend","otherUser","UserService","fetchUsers","args","params","blockUser","blockedUserId","unblockUser","getUserInfo","getUserPost","blocked","setBlocked","blockedUser","btnStyles","ConversationService","conversation","conversationId","getConversation","SendMessage","createConversation","active","setActive","block","forEach","getOtherUser","UserProfile","OtherUserProfile","FetchMore","fetchMore","BoardPosts","setLimit","totalPosts","setTotalPosts","Board","DeleteFriendBtn","deleteFriend","FriendsList","setFriends","FriendsRequest","requests","setRequests","getRequests","acceptRequest","accept","declineRequest","decline","sender","receiver","Friends","AdminService","role","userInfo","avatarUrl","DeleteUser","currentUser","getUsers","deleteUser","EditUser","setStatus","setRole","editUserData","setTimeout","CurrentUser","Users","users","setUser","allUsers","setAllUsers","setCurrentUser","search","setSearch","filteredUsers","filter","toLowerCase","padding","ChangeUserPassword","changePassword","ChangeUserAvatar","imageUpload","upload","changeAvatar","imageChange","Registration","Admin","setUsers","RequireAuth","children","state","from","AfterAuth","StatusPage","RequireAdminAuth","isAdmin","UserFilter","getUsersWithQuery","getUsersWithoutQuery","oldCity","setOldCity","autocompleteStyles","borderColor","cities","push","usersCities","Array","Set","Autocomplete","inputValue","onInputChange","event","newInputValue","newCity","options","renderInput","TextField","label","AllUsers","totalUsers","setTotalUsers","getAllUsers","usersLength","UsersPage","ChangeAvatarPreview","ChangeAvatarForm","ChangeAvatar","imgPreview","ChangeAvatarPage","MessagesService","message","getMessages","Conversation","Message","own","date","Messenger","fromFriend","setFromFriend","conversations","setConversations","newMessage","setNewMessage","currentChat","setCurrentChat","arrivalMessage","setArrivalMessage","messages","setMessages","scrollRef","socket","io","on","members","prev","emit","scrollIntoView","behavior","privateMessage","find","sendMessage","deleteConversation","member","MessengerPage","AppRouter","element","isLoading","LoginService","RegistrationService","LogoutService","clear","DeleteService","EditProfileService","ChangePasswordService","Store","makeAutoObservable","this","bool","err","msg","setOtherUser","catch","setAuth","setAdmin","setError","removeItem","setSuccessMessage","change","setLoading","setUsersLength","createContext","ReactDOM","render","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.436bdbf1.chunk.js","sourcesContent":["import { Avatar } from \"@mui/material\";\r\nimport { FC, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Context } from \"../../index\";\r\nimport \"./userBar.sass\";\r\n\r\nconst UserBar: FC = () => {\r\n  const { store } = useContext(Context);\r\n  const avatarStyles = {\r\n    cursor: \"pointer\",\r\n    width: \"30px\",\r\n    height: \"30px\",\r\n    marginLeft: \"0.5rem\",\r\n    bgcolor: \"#534ED9\",\r\n  };\r\n\r\n  return (\r\n    <div className=\"userBar__container\">\r\n      <Link className=\"userBar__user\" to={`profile/${store.user.id}`}>\r\n        {store.user.email}\r\n        <Avatar\r\n          src={store.user.avatar}\r\n          className=\"avatar\"\r\n          sx={avatarStyles}\r\n        ></Avatar>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserBar;\r\n","import { FC, useContext, useRef } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Context } from \"../../index\";\r\nimport SettingsIcon from \"@mui/icons-material/Settings\";\r\nimport PeopleAltIcon from \"@mui/icons-material/PeopleAlt\";\r\nimport LogoutIcon from \"@mui/icons-material/Logout\";\r\nimport PersonIcon from \"@mui/icons-material/Person\";\r\nimport ChatIcon from \"@mui/icons-material/Chat\";\r\nimport DashboardIcon from \"@mui/icons-material/Dashboard\";\r\nimport ImportContactsIcon from \"@mui/icons-material/ImportContacts\";\r\nimport \"./mobileNavBar.sass\";\r\n\r\nconst MobileNavBar: FC = () => {\r\n  const { store } = useContext(Context);\r\n  const mobileNav = useRef<HTMLUListElement>(null);\r\n  const burger = useRef<HTMLSpanElement>(null);\r\n  const linkStyle = {\r\n    color: \"#534ED9\",\r\n    verticalAlign: \"bottom\",\r\n    marginRight: \".4rem\",\r\n  };\r\n\r\n  if (!store.isAuth) {\r\n    return null;\r\n  }\r\n\r\n  const changeNav = () => {\r\n    if (burger.current?.classList.contains(\"toggle\")) {\r\n      burger.current?.classList.replace(\"toggle\", \"toggled\");\r\n      return mobileNav.current?.classList.replace(\"closed\", \"opened\");\r\n    } else {\r\n      burger.current?.classList.replace(\"toggled\", \"toggle\");\r\n      return mobileNav.current?.classList.replace(\"opened\", \"closed\");\r\n    }\r\n  };\r\n\r\n  const closeMenu = () => {\r\n    burger.current?.classList.replace(\"toggled\", \"toggle\");\r\n    return mobileNav.current?.classList.replace(\"opened\", \"closed\");\r\n  };\r\n\r\n  return (\r\n    <nav>\r\n      <span\r\n        className=\"mobile__burger toggle\"\r\n        onClick={changeNav}\r\n        ref={burger}\r\n      ></span>\r\n      <ul className=\"mobile__nav__ul closed\" ref={mobileNav}>\r\n        <Link\r\n          to={`profile/${store.user.id}`}\r\n          className=\"mobile__nav__li\"\r\n          onClick={closeMenu}\r\n        >\r\n          <PersonIcon sx={linkStyle} />\r\n          My Profile\r\n        </Link>\r\n        <Link\r\n          to={`friends/${store.user.id}`}\r\n          className=\"mobile__nav__li\"\r\n          onClick={closeMenu}\r\n        >\r\n          <ImportContactsIcon sx={linkStyle} />\r\n          Friends\r\n        </Link>\r\n        <Link to=\"board\" className=\"mobile__nav__li\" onClick={closeMenu}>\r\n          <DashboardIcon sx={linkStyle} />\r\n          Board\r\n        </Link>\r\n        <Link to=\"chat\" className=\"mobile__nav__li\" onClick={closeMenu}>\r\n          <ChatIcon sx={linkStyle} />\r\n          Messages\r\n        </Link>\r\n        <Link to=\"users\" className=\"mobile__nav__li\" onClick={closeMenu}>\r\n          <PeopleAltIcon sx={linkStyle} />\r\n          Users\r\n        </Link>\r\n        <Link to=\"settings\" className=\"mobile__nav__li\" onClick={closeMenu}>\r\n          <SettingsIcon sx={linkStyle} />\r\n          Settings\r\n        </Link>\r\n        <Link\r\n          to=\"/login\"\r\n          className=\"mobile__nav__li\"\r\n          onClick={() => {\r\n            closeMenu();\r\n            store.logout();\r\n          }}\r\n        >\r\n          <LogoutIcon sx={linkStyle} />\r\n          Logout\r\n        </Link>\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default MobileNavBar;\r\n","import { FC, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Context } from \"../../index\";\r\nimport ApiIcon from \"@mui/icons-material/Api\";\r\nimport UserBar from \"../UserBar/UserBar\";\r\nimport MobileNavBar from \"../NavBar/MobileNavBar\";\r\nimport \"./header.sass\";\r\n\r\nconst Header: FC = () => {\r\n  const { store } = useContext(Context);\r\n  const apiIconStyles = {\r\n    color: \"#534ED9\",\r\n    verticalAlign: \"bottom\",\r\n    marginRight: \".4rem\",\r\n    width: \"1.8rem\",\r\n    height: \"1.8rem\",\r\n  };\r\n\r\n  if (store.isAuth) {\r\n    return (\r\n      <header className=\"header\">\r\n        <div className=\"header__main\">\r\n          <div className=\"header__logo\">\r\n            <ApiIcon sx={apiIconStyles} />\r\n            <p className=\"header__title\">\r\n              <Link to=\"/board\">Corporate Portal</Link>\r\n            </p>\r\n          </div>\r\n          <MobileNavBar />\r\n          <UserBar />\r\n        </div>\r\n      </header>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"header__main nonAuth\">\r\n        <div className=\"header__logo\">\r\n          <ApiIcon sx={apiIconStyles} />\r\n          <p className=\"header__title\">\r\n            <Link to=\"/\">Corporate Portal</Link>\r\n          </p>\r\n        </div>\r\n        <div className=\"header__signBtns\">\r\n          <Link to=\"login\">Sign In</Link>\r\n          <Link to=\"registration\">Sign Up</Link>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import { FC, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Context } from \"../../index\";\r\nimport SettingsIcon from \"@mui/icons-material/Settings\";\r\nimport PeopleAltIcon from \"@mui/icons-material/PeopleAlt\";\r\nimport LogoutIcon from \"@mui/icons-material/Logout\";\r\nimport PersonIcon from \"@mui/icons-material/Person\";\r\nimport ChatIcon from \"@mui/icons-material/Chat\";\r\nimport DashboardIcon from \"@mui/icons-material/Dashboard\";\r\nimport ImportContactsIcon from \"@mui/icons-material/ImportContacts\";\r\nimport \"./navBar.sass\";\r\n\r\nconst NavBar: FC = () => {\r\n  const { store } = useContext(Context);\r\n  const linkStyle = {\r\n    color: \"#534ED9\",\r\n    verticalAlign: \"bottom\",\r\n    marginRight: \".4rem\",\r\n  };\r\n\r\n  if (!store.isAuth) {\r\n    return null;\r\n  }\r\n  return (\r\n    <nav>\r\n      <ul className=\"nav__ul\">\r\n        <Link to={`profile/${store.user.id}`} className=\"nav__li\">\r\n          <PersonIcon sx={linkStyle} />\r\n          My Profile\r\n        </Link>\r\n        <Link to={`friends/${store.user.id}`} className=\"nav__li\">\r\n          <ImportContactsIcon sx={linkStyle} />\r\n          Friends\r\n        </Link>\r\n        <Link to=\"board\" className=\"nav__li\">\r\n          <DashboardIcon sx={linkStyle} />\r\n          Board\r\n        </Link>\r\n        <Link to=\"chat\" className=\"nav__li\">\r\n          <ChatIcon sx={linkStyle} />\r\n          Messages\r\n        </Link>\r\n        <Link to=\"users\" className=\"nav__li\">\r\n          <PeopleAltIcon sx={linkStyle} />\r\n          Users\r\n        </Link>\r\n        <Link to=\"settings\" className=\"nav__li\">\r\n          <SettingsIcon sx={linkStyle} />\r\n          Settings\r\n        </Link>\r\n        <Link\r\n          to=\"/login\"\r\n          className=\"nav__li\"\r\n          onClick={() => {\r\n            store.logout();\r\n          }}\r\n        >\r\n          <LogoutIcon sx={linkStyle} />\r\n          Logout\r\n        </Link>\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import { FC } from \"react\";\r\nimport { Outlet, useLocation } from \"react-router-dom\";\r\nimport Header from \"../Header/Header\";\r\nimport NavBar from \"../NavBar/NavBar\";\r\nimport \"./layout.sass\";\r\n\r\nconst Layout: FC = () => {\r\n  const location = useLocation();\r\n  if (location.pathname === \"/admin\") {\r\n    return (\r\n      <>\r\n        <Header />\r\n        <div className=\"admin__box__container\">\r\n          <div className=\"admin__box__outlet\">\r\n            <Outlet />\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"main__box__container\">\r\n        <NavBar />\r\n        <div className=\"main__box__outlet\">\r\n          <Outlet />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n","import { FC } from 'react';\r\nimport ApiIcon from \"@mui/icons-material/Api\";\r\nimport \"./title.sass\";\r\n\r\nconst Title: FC = () => {\r\n  const apiIconStyles = {\r\n    color: \"#534ED9\",\r\n    marginRight: \".6rem\",\r\n    width: \"4rem\",\r\n    height: \"4rem\",\r\n  };\r\n\r\n  return (\r\n    <div className=\"title\">\r\n      <ApiIcon sx={apiIconStyles}/>\r\n      <div>\r\n      <h1 className=\"title__title\">Corporate Portal</h1>\r\n      <p className=\"title__text\">This is your \"virtual office\" that allows you to share information, documents, add, change, delete, communicate with your colleagues</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Title;\r\n","import { FC, useState, useContext } from \"react\";\r\nimport { Context } from \"../../index\";\r\nimport { Button, Input } from \"@mui/material\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport Title from \"../../components/Title/Title\";\r\nimport \"./loginForm.sass\";\r\n\r\nconst LoginForm: FC = () => {\r\n  const { store } = useContext(Context);\r\n  const [username, setUsername] = useState<string>(\"\");\r\n  const [password, setPassword] = useState<string>(\"\");\r\n\r\n  const inputStyles = {\r\n    margin: \"1.5rem 1.3rem 0.8rem 1.3rem\",\r\n    \":after\": { borderBottom: \"2px solid #534ED9\" },\r\n  };\r\n  const btnStyles = {\r\n    margin: \"2rem 1.3rem 2rem 1.3rem\",\r\n    backgroundColor: \"#534ED9\",\r\n    \":hover\": { backgroundColor: \"#7673D9\" },\r\n  };\r\n\r\n  return (\r\n    <form className=\"login__form\">\r\n      <div className=\"title__box\">\r\n        <Title />\r\n      </div>\r\n      <div className=\"form__box\">\r\n        <h2 className=\"form__h2\">Login</h2>\r\n        <p className=\"error\">{store.error}</p>\r\n        <Input\r\n          placeholder=\"Username\"\r\n          type=\"text\"\r\n          sx={inputStyles}\r\n          onChange={(e) => {\r\n            setUsername(e.target.value);\r\n          }}\r\n        />\r\n        <Input\r\n          autoComplete=\"on\"\r\n          placeholder=\"Password\"\r\n          type=\"password\"\r\n          sx={inputStyles}\r\n          onChange={(e) => {\r\n            setPassword(e.target.value);\r\n          }}\r\n        />\r\n        <Button\r\n          variant=\"contained\"\r\n          sx={btnStyles}\r\n          onClick={async () => {\r\n            await store.login(username, password);\r\n            store.checkAuth();\r\n          }}\r\n        >\r\n          Sign In\r\n        </Button>\r\n        <div className=\"form__linkBox\">\r\n          <Link to=\"/registration\" className=\"signUp\">\r\n            Sign Up\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default observer(LoginForm);\r\n","import { FC } from \"react\";\r\nimport LoginForm from \"../../components/LoginForm/LoginForm\";\r\n\r\nconst LoginPage: FC = () => {\r\n  return <LoginForm />;\r\n};\r\n\r\nexport default LoginPage;\r\n","import { FC, useState, useContext } from \"react\";\r\nimport { Context } from \"../../index\";\r\nimport { Button, Input } from \"@mui/material\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport Title from \"../../components/Title/Title\";\r\nimport \"./registrationForm.sass\";\r\n\r\nconst RegistrationForm: FC = () => {\r\n  const [email, setEmail] = useState<string>(\"\");\r\n  const [username, setUsername] = useState<string>(\"\");\r\n  const [password, setPassword] = useState<string>(\"\");\r\n  const [firstName, setFirstName] = useState<string>(\"\");\r\n  const [lastName, setLastName] = useState<string>(\"\");\r\n  const { store } = useContext(Context);\r\n\r\n  const inputStyles = {\r\n    margin: \"1.5rem 1.3rem 0.8rem 1.3rem\",\r\n    \":after\": { borderBottom: \"2px solid #534ED9\" },\r\n  };\r\n  const btnStyles = {\r\n    margin: \"2rem 1.3rem 2rem 1.3rem\",\r\n    backgroundColor: \"#534ED9\",\r\n    \":hover\": { backgroundColor: \"#7673D9\" },\r\n  };\r\n\r\n  return (\r\n    <form className=\"registr__form\">\r\n      <div className=\"title__box\">\r\n        <Title />\r\n      </div>\r\n      <div className=\"form__box\">\r\n        <h2 className=\"form__h2\">Join Us</h2>\r\n        <p className=\"error\">{store.error}</p>\r\n        <Input\r\n          placeholder=\"Email\"\r\n          type=\"text\"\r\n          sx={inputStyles}\r\n          onChange={(e) => {\r\n            setEmail(e.target.value);\r\n          }}\r\n        />\r\n        <Input\r\n          placeholder=\"Username\"\r\n          type=\"text\"\r\n          sx={inputStyles}\r\n          onChange={(e) => {\r\n            setUsername(e.target.value);\r\n          }}\r\n        />\r\n        <Input\r\n          placeholder=\"First Name\"\r\n          type=\"text\"\r\n          sx={inputStyles}\r\n          onChange={(e) => {\r\n            setFirstName(e.target.value);\r\n          }}\r\n        />\r\n        <Input\r\n          placeholder=\"Last Name\"\r\n          type=\"text\"\r\n          sx={inputStyles}\r\n          onChange={(e) => {\r\n            setLastName(e.target.value);\r\n          }}\r\n        />\r\n        <Input\r\n          autoComplete=\"on\"\r\n          placeholder=\"Password\"\r\n          type=\"password\"\r\n          sx={inputStyles}\r\n          onChange={(e) => {\r\n            setPassword(e.target.value);\r\n          }}\r\n        />\r\n        <Button\r\n          variant=\"contained\"\r\n          sx={btnStyles}\r\n          onClick={async () => {\r\n            await store.registration(\r\n              email,\r\n              username,\r\n              password,\r\n              firstName,\r\n              lastName\r\n            );\r\n            store.checkAuth();\r\n          }}\r\n        >\r\n          Sign Up\r\n        </Button>\r\n        <div className=\"form__linkBox\">\r\n          <span>Have an account?</span>\r\n          <Link to=\"/login\" className=\"signIn\">\r\n            Sign In\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default observer(RegistrationForm);\r\n","import { FC } from \"react\";\r\nimport RegistrationForm from \"../../components/RegistrationForm/RegistrationForm\";\r\n\r\nconst RegistrationPage: FC = () => {\r\n  return <RegistrationForm />;\r\n};\r\n\r\nexport default RegistrationPage;\r\n","import { FC, useContext, useState } from \"react\";\r\nimport { Button, Input, Switch } from \"@mui/material\";\r\nimport { Context } from \"../../index\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport \"./settingsForm.sass\";\r\n\r\nconst SettingsForm: FC = () => {\r\n  const { store } = useContext(Context);\r\n  const [firstName, setFirstName] = useState<string>();\r\n  const [lastName, setLastName] = useState<string>();\r\n  const [birthday, setBirthday] = useState<string>();\r\n  const [city, setCity] = useState<string>();\r\n  const [stack, setStack] = useState<string>();\r\n  const [position, setPosition] = useState<string>();\r\n  const [department, setDepartment] = useState<string>();\r\n  const [education, setEducation] = useState<string>();\r\n  const [skype, setSkype] = useState<string>();\r\n  const [phone, setPhone] = useState<number>();\r\n  const [messagesFromFriend, setMessagesFromFriend] = useState<boolean>(\r\n    store.user.messagesFromFriend\r\n  );\r\n  const [privatePage, setPrivatePage] = useState<boolean>(\r\n    store.user.privatePage\r\n  );\r\n  const [description, setDescription] = useState<string>();\r\n\r\n  const inputStyles = {\r\n    margin: \"0 0 1rem 0\",\r\n    \":after\": { borderBottom: \"2px solid #534ED9\" },\r\n  };\r\n  const btnStyles = {\r\n    margin: \"2rem auto 2rem auto\",\r\n    width: \"fit-content\",\r\n    backgroundColor: \"#534ED9\",\r\n    \":hover\": { backgroundColor: \"#7673D9\" },\r\n  };\r\n\r\n  return (\r\n    <form className=\"settings__form\">\r\n      <h3 className=\"settings__notification\">\r\n        {store.successMessage ? store.successMessage : null}\r\n      </h3>\r\n      <div className=\"settings__data\">\r\n        <div className=\"settings__mainData\">\r\n          <h4 className=\"settings__title\">Edit personal info</h4>\r\n          <Input\r\n            onChange={(e) => setFirstName(e.target.value)}\r\n            placeholder=\"First Name\"\r\n            type=\"text\"\r\n            sx={inputStyles}\r\n          />\r\n          <Input\r\n            onChange={(e) => setLastName(e.target.value)}\r\n            placeholder=\"Last Name\"\r\n            type=\"text\"\r\n            sx={inputStyles}\r\n          />\r\n          <Input\r\n            onChange={(e) => setCity(e.target.value)}\r\n            placeholder=\"City\"\r\n            type=\"text\"\r\n            sx={inputStyles}\r\n          />\r\n          <Input\r\n            onChange={(e) => setBirthday(e.target.value)}\r\n            placeholder=\"Age\"\r\n            type=\"date\"\r\n            sx={inputStyles}\r\n          />\r\n          <Input\r\n            onChange={(e) => setPhone(+e.target.value)}\r\n            placeholder=\"Phone\"\r\n            type=\"number\"\r\n            sx={inputStyles}\r\n          />\r\n          <div>\r\n            <Switch\r\n              checked={privatePage}\r\n              name=\"Private\"\r\n              inputProps={{ \"aria-label\": \"controlled\" }}\r\n              onChange={(e) => setPrivatePage(e.target.checked)}\r\n            />\r\n            Private Profile\r\n          </div>\r\n          <div>\r\n            <Switch\r\n              checked={messagesFromFriend}\r\n              name=\"PrivateMessage\"\r\n              inputProps={{ \"aria-label\": \"controlled\" }}\r\n              onChange={(e) => setMessagesFromFriend(e.target.checked)}\r\n            />\r\n            Messages Only From Friends\r\n          </div>\r\n        </div>\r\n        <div className=\"settings__otherData\">\r\n          <h4 className=\"settings__title\">Edit other info</h4>\r\n          <Input\r\n            onChange={(e) => setStack(e.target.value)}\r\n            multiline={true}\r\n            placeholder=\"Stack\"\r\n            type=\"text\"\r\n            sx={inputStyles}\r\n          />\r\n          <Input\r\n            onChange={(e) => setPosition(e.target.value)}\r\n            placeholder=\"Position\"\r\n            type=\"text\"\r\n            sx={inputStyles}\r\n          />\r\n          <Input\r\n            onChange={(e) => setDepartment(e.target.value)}\r\n            placeholder=\"Department\"\r\n            type=\"text\"\r\n            sx={inputStyles}\r\n          />\r\n          <Input\r\n            onChange={(e) => setEducation(e.target.value)}\r\n            multiline={true}\r\n            placeholder=\"Education\"\r\n            type=\"text\"\r\n            sx={inputStyles}\r\n          />\r\n          <Input\r\n            onChange={(e) => setSkype(e.target.value)}\r\n            placeholder=\"Skype\"\r\n            type=\"text\"\r\n            sx={inputStyles}\r\n          />\r\n          <Input\r\n            onChange={(e) => setDescription(e.target.value)}\r\n            placeholder=\"Description\"\r\n            type=\"text\"\r\n            multiline={true}\r\n            sx={inputStyles}\r\n          />\r\n        </div>\r\n      </div>\r\n      <Button\r\n        onClick={async () => {\r\n          await store.editProfile(store.user.id, {\r\n            firstName,\r\n            lastName,\r\n            city,\r\n            birthday,\r\n            stack,\r\n            position,\r\n            department,\r\n            education,\r\n            skype,\r\n            phone,\r\n            messagesFromFriend,\r\n            privatePage,\r\n            description,\r\n          });\r\n          store.checkAuth();\r\n        }}\r\n        variant=\"contained\"\r\n        sx={btnStyles}\r\n      >\r\n        Save Changes\r\n      </Button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default observer(SettingsForm);\r\n","import { FC, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Context } from \"../../index\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport \"./settingsForm.sass\";\r\n\r\nconst SettingsBtnsForm: FC = () => {\r\n  const { store } = useContext(Context);\r\n  return (\r\n    <form className=\"settings__btnForm\">\r\n      <Link className=\"settings__btn\" to=\"password\">\r\n        Change Password\r\n      </Link>\r\n      <Link className=\"settings__btn\" to=\"avatar\">\r\n        Change Avatar\r\n      </Link>\r\n      <Link\r\n        className=\"settings__btn\"\r\n        to=\"/login\"\r\n        onClick={async () => {\r\n          await store.delete();\r\n          await store.checkAuth();\r\n        }}\r\n      >\r\n        Delete Profile\r\n      </Link>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default observer(SettingsBtnsForm);\r\n","import { FC } from \"react\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport SettingsForm from \"../../components/SettingsForm/SettingsForm\";\r\nimport SettingsBtnsForm from \"../../components/SettingsForm/SettingsBtnsForm\";\r\nimport \"./userSettings.sass\";\r\n\r\nconst UserSettingsPage: FC = () => {\r\n  return (\r\n    <div className=\"settings__container\">\r\n      <h2 className=\"settings__title\">Editing Profile</h2>\r\n      <div className=\"settings__box\">\r\n        <SettingsBtnsForm />\r\n        <hr />\r\n        <SettingsForm />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default observer(UserSettingsPage);\r\n","import { FC, useState, useContext } from \"react\";\r\nimport { Input, Button } from \"@mui/material\";\r\nimport { Context } from \"../../index\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport \"./changePassword.sass\";\r\n\r\nconst ChangePasswordForm: FC = () => {\r\n  const { store } = useContext(Context);\r\n  const [oldPassword, setOldPassword] = useState<string>();\r\n  const [newPassword, setNewPassword] = useState<string>();\r\n\r\n  const inputStyles = {\r\n    margin: \"1rem 1.3rem 2rem 1.3rem\",\r\n    width: \"400px\",\r\n    \":after\": { borderBottom: \"2px solid #534ED9\" },\r\n  };\r\n  const btnStyles = {\r\n    margin: \"0 auto\",\r\n    width: \"fit-content\",\r\n    backgroundColor: \"#534ED9\",\r\n    \":hover\": { backgroundColor: \"#7673D9\" },\r\n  };\r\n  return (\r\n    <form className=\"change__form\">\r\n      <h3 className=\"error\">{store.error}</h3>\r\n      <h4>Enter your old password</h4>\r\n      <Input\r\n        placeholder=\"Old Password\"\r\n        required\r\n        type=\"password\"\r\n        sx={inputStyles}\r\n        onChange={(e) => setOldPassword(e.target.value)}\r\n      />\r\n      <h4>Enter your new password</h4>\r\n      <Input\r\n        placeholder=\"New Password\"\r\n        required\r\n        type=\"password\"\r\n        sx={inputStyles}\r\n        onChange={(e) => setNewPassword(e.target.value)}\r\n      />\r\n      <Button\r\n        variant=\"contained\"\r\n        sx={btnStyles}\r\n        onClick={async () => {\r\n          await store.changePass(store.user.id, newPassword, oldPassword);\r\n          if (!store.error) store.logout();\r\n        }}\r\n      >\r\n        Change Password\r\n      </Button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default observer(ChangePasswordForm);\r\n","import { FC } from \"react\";\r\nimport ChangePasswordForm from \"../../components/ChangePasswordForm/ChangePasswordForm\";\r\nimport \"./changePasswordPage.sass\";\r\n\r\nconst ChangePasswordPage: FC = () => {\r\n  return (\r\n    <div className=\"changePasswordPage__container\">\r\n      <h2 className=\"changePasswordPage__title\">Change Password</h2>\r\n      <ChangePasswordForm />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChangePasswordPage;\r\n","import axios from \"axios\";\r\nimport { AuthResponse } from \"../models/response/authResponse\";\r\n\r\nexport const API_URL = \"http://localhost:3010/api\";\r\nexport const ADMIN_API_URL = \"http://localhost:3010/admin\";\r\nexport const URL = \"http://localhost:3010\";\r\n\r\nconst api = axios.create({\r\n  withCredentials: true,\r\n  baseURL: API_URL,\r\n});\r\n\r\nexport const adminApi = axios.create({\r\n  withCredentials: true,\r\n  baseURL: ADMIN_API_URL,\r\n});\r\n\r\napi.interceptors.request.use((config) => {\r\n  config.headers.Authorization = `Bearer ${localStorage.getItem(\"token\")}`;\r\n  return config;\r\n});\r\n\r\napi.interceptors.response.use(\r\n  (config) => {\r\n    return config;\r\n  },\r\n  async (error) => {\r\n    const originalRequest = error.config;\r\n    if (\r\n      error.response.status === 401 &&\r\n      error.config &&\r\n      !error.config._isRetry\r\n    ) {\r\n      originalRequest._isRetry = true;\r\n      try {\r\n        const response = await axios.get<AuthResponse>(`${API_URL}/refresh`, {\r\n          withCredentials: true,\r\n        });\r\n        localStorage.setItem(\"token\", response.data.accessToken);\r\n        return api.request(originalRequest);\r\n      } catch (e) {\r\n        console.log(\"Unauthorized\");\r\n      }\r\n    }\r\n    throw error;\r\n  }\r\n);\r\n\r\nadminApi.interceptors.request.use((config) => {\r\n  config.headers.Authorization = `Bearer ${localStorage.getItem(\"token\")}`;\r\n  return config;\r\n});\r\n\r\nadminApi.interceptors.response.use(\r\n  (config) => {\r\n    return config;\r\n  },\r\n  async (error) => {\r\n    const originalRequest = error.config;\r\n    if (\r\n      error.response.status === 401 &&\r\n      error.config &&\r\n      !error.config._isRetry\r\n    ) {\r\n      originalRequest._isRetry = true;\r\n      try {\r\n        const response = await axios.get<AuthResponse>(`${API_URL}/refresh`, {\r\n          withCredentials: true,\r\n        });\r\n        localStorage.setItem(\"token\", response.data.accessToken);\r\n        return adminApi.request(originalRequest);\r\n      } catch (e) {\r\n        console.log(\"Unauthorized\");\r\n      }\r\n    }\r\n    throw error;\r\n  }\r\n);\r\n\r\nexport default api;\r\n","import api from \"../http/axios\";\r\nimport { AxiosResponse } from \"axios\";\r\n\r\nexport default class PostService {\r\n  static createPost(\r\n    userId: string,\r\n    text: string,\r\n    fileName: string\r\n  ): Promise<AxiosResponse> {\r\n    return api.post<AxiosResponse>(\"/post\", { userId, text, fileName });\r\n  }\r\n\r\n  static delete = (id: string): Promise<AxiosResponse> => {\r\n    return api.post(\"/post/delete\", { id });\r\n  };\r\n\r\n  static edit = (id: string, text: string): Promise<AxiosResponse> => {\r\n    return api.patch(\"/post/edit\", { id, text });\r\n  };\r\n\r\n  static createComment(\r\n    id: string,\r\n    text: string,\r\n    userId: string\r\n  ): Promise<AxiosResponse> {\r\n    return api.post<AxiosResponse>(\"/post/comment\", { id, text, userId });\r\n  }\r\n\r\n  static getUserPostByUsername = (username: string): Promise<AxiosResponse> => {\r\n    return api.get(`/post/username/${username}`);\r\n  };\r\n\r\n  static getUserPostByUserId = (userId: string): Promise<AxiosResponse> => {\r\n    return api.get(`/post/id/${userId}`);\r\n  };\r\n\r\n  static getAllPosts = (limit?: number): Promise<AxiosResponse> => {\r\n    return api.get(\"/post/all?limit=\" + limit);\r\n  };\r\n\r\n  static like = (post: string, user: string): Promise<AxiosResponse> => {\r\n    return api.post(\"/like\", { post, user });\r\n  };\r\n}\r\n","import { useState, useContext } from \"react\";\r\nimport { Context } from \"../../index\";\r\nimport { Input, Button } from \"@mui/material\";\r\nimport InsertDriveFileIcon from \"@mui/icons-material/InsertDriveFile\";\r\nimport PostService from \"../../services/PostService\";\r\nimport api from \"../../http/axios\";\r\n\r\ninterface CreatePostFormProps {\r\n  createPost: () => Promise<void>;\r\n}\r\n\r\nconst CreatePostForm = ({ createPost }: CreatePostFormProps) => {\r\n  const { store } = useContext(Context);\r\n  const [img, setImg] = useState<any>();\r\n  const [postText, setPostText] = useState<string>('');\r\n  const [file, setFile] = useState<any>();\r\n\r\n  const fileUpload = async (e: any) => {\r\n    try {\r\n      e.preventDefault();\r\n      if (file) {\r\n        const formData = new FormData();\r\n        formData.append(\"files\", file);\r\n        const res = await api.post(\"/post/upload\", formData, {\r\n          headers: {\r\n            \"content-type\": \"multipart/form-data\",\r\n          },\r\n        });\r\n        await PostService.createPost(store.user.id, postText, res.data.path);\r\n        setPostText(\"\");\r\n        setFile(\"\");\r\n      } else {\r\n        await PostService.createPost(store.user.id, postText, null);\r\n        setPostText(\"\");\r\n      }\r\n    } catch (e) {\r\n      await PostService.createPost(store.user.id, postText, null);\r\n      setPostText(\"\");\r\n    }\r\n  };\r\n\r\n  const fileChange = (e: any) => {\r\n    let reader = new FileReader();\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      reader.onloadend = () => {\r\n        setImg(reader.result);\r\n      };\r\n      reader.readAsDataURL(file);\r\n      setFile(file);\r\n    } else {\r\n      setImg(null);\r\n      setFile(null);\r\n    }\r\n  };\r\n\r\n  let filePreview = img;\r\n\r\n  if (img) {\r\n    filePreview = (\r\n      <div>\r\n        <a href={img} download>\r\n          {file?.type === \"image/jpeg\" ||\r\n          file?.type === \"image/jpg\" ||\r\n          file?.type === \"image/png\" ? (\r\n            <img src={img} className=\"file__preview\" alt={file.name} />\r\n          ) : (\r\n            <div>\r\n              <InsertDriveFileIcon\r\n                sx={{\r\n                  color: \"#534ED9\",\r\n                  width: \"30px\",\r\n                  height: \"30px\",\r\n                  verticalAlign: \"middle\",\r\n                  margin: \"1rem 0\",\r\n                }}\r\n              />\r\n              {file.name}\r\n            </div>\r\n          )}\r\n        </a>\r\n      </div>\r\n    );\r\n  } else {\r\n    filePreview = null;\r\n  }\r\n\r\n  return (\r\n    <form className=\"posts__create\" encType=\"multipart/form-data\">\r\n      <div className=\"posts__create__inputs\">\r\n        <Input\r\n          name=\"files\"\r\n          type=\"file\"\r\n          sx={{\r\n            margin: \"0 0 1rem 0\",\r\n            width: \"fit-content\",\r\n            \":after\": { borderBottom: \"2px solid #534ED9\" },\r\n          }}\r\n          onChange={(e) => {\r\n            fileChange(e);\r\n          }}\r\n        />\r\n        {file ? filePreview : null}\r\n        <Input\r\n          value={postText}\r\n          onChange={(e) => {\r\n            setPostText(e.target.value);\r\n          }}\r\n          type=\"text\"\r\n          placeholder=\"Tell us something\"\r\n          multiline={true}\r\n          sx={{\r\n            margin: \"0 0 1rem 0\",\r\n            \":after\": { borderBottom: \"2px solid #534ED9\" },\r\n          }}\r\n        />\r\n      </div>\r\n      <div className=\"posts__create__btn\">\r\n        <Button\r\n          disabled={postText === \"\" || file === null}\r\n          onClick={async (e) => {\r\n            e.preventDefault();\r\n            await fileUpload(e);\r\n            await createPost();\r\n          }}\r\n          variant=\"contained\"\r\n          sx={{\r\n            backgroundColor: \"#534ED9\",\r\n            \":hover\": {\r\n              backgroundColor: \"#7673D9\",\r\n            },\r\n          }}\r\n        >\r\n          Create Post\r\n        </Button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default CreatePostForm;\r\n","import { Post } from \"../../models/post\";\r\nimport { Avatar } from \"@mui/material\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Moment from \"react-moment\";\r\n\r\ninterface CommentProps {\r\n  post: Post;\r\n}\r\n\r\nconst Comment = ({ post }: CommentProps) => {\r\n  const avatarStyle = {\r\n    width: \"45px\",\r\n    height: \"45px\",\r\n    margin: \"0 1rem .5rem 0\",\r\n    backgroundColor: \"#BF3030\",\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {post.comments.length > 0\r\n        ? post.comments.map((comment) => {\r\n            return (\r\n              <div key={comment._id} className=\"post__comment\">\r\n                <div className=\"comment__info\">\r\n                  <h5 className=\"comment__author\">\r\n                    <Link to={`/profile/${comment.user._id}`}>\r\n                      <Avatar\r\n                        src={comment.user.avatar}\r\n                        sx={avatarStyle}\r\n                      ></Avatar>\r\n                    </Link>\r\n                    {comment.user.firstName} {comment.user.lastName}\r\n                  </h5>\r\n                  <p className=\"comment__time\">\r\n                    <Moment className=\"time\" format=\"DD.MM.YYYY\">\r\n                      {comment.time}\r\n                    </Moment>\r\n                    <Moment className=\"time\" format=\"HH.mm\">\r\n                      {comment.time}\r\n                    </Moment>\r\n                  </p>\r\n                </div>\r\n                <p className=\"comment__text\">{comment.text}</p>\r\n              </div>\r\n            );\r\n          })\r\n        : null}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Comment;\r\n","import { useState } from \"react\";\r\nimport { Input, Button } from \"@mui/material\";\r\nimport { Post } from \"../../models/post\";\r\n\r\ninterface CreateCommentFormprops {\r\n  post: Post;\r\n  createComment: any;\r\n}\r\nconst CreateCommentForm = ({ post, createComment }: CreateCommentFormprops) => {\r\n  const [comment, setComment] = useState<string>(\"\");\r\n\r\n  return (\r\n    <form className=\"comment__create__form\">\r\n      <Button\r\n        disabled={comment === \"\"}\r\n        onClick={async () => {\r\n          await createComment(comment, post._id);\r\n          await setComment(\"\");\r\n        }}\r\n        variant=\"contained\"\r\n        sx={{\r\n          margin: \"0 1rem 0 0\",\r\n          fontSize: \".7rem\",\r\n          backgroundColor: \"#534ED9\",\r\n          \":hover\": {\r\n            backgroundColor: \"#7673D9\",\r\n          },\r\n        }}\r\n      >\r\n        Add\r\n      </Button>\r\n      <Input\r\n        value={comment}\r\n        onChange={(e) => setComment(e.target.value)}\r\n        type=\"text\"\r\n        placeholder=\"Comment\"\r\n        multiline={true}\r\n        sx={{\r\n          margin: \"0 0 1rem 0\",\r\n          width: \"80%\",\r\n          \":after\": { borderBottom: \"2px solid #534ED9\" },\r\n        }}\r\n      />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default CreateCommentForm;\r\n","import { Button } from \"@mui/material\";\r\nimport { Post } from \"../../models/post\";\r\n\r\ninterface DeletePostProps {\r\n  post: Post;\r\n  deletePost: (postId: string) => Promise<void>;\r\n}\r\nconst DeletePost = ({ post, deletePost }: DeletePostProps) => {\r\n  return (\r\n    <Button\r\n      onClick={async (e) => {\r\n        e.preventDefault();\r\n        await deletePost(post._id);\r\n      }}\r\n      variant=\"contained\"\r\n      sx={{\r\n        margin: \"0 0 0 1rem\",\r\n        fontSize: \".7rem\",\r\n        backgroundColor: \"#534ED9\",\r\n        \":hover\": {\r\n          backgroundColor: \"#7673D9\",\r\n        },\r\n      }}\r\n    >\r\n      Delete\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default DeletePost;\r\n","import { useState } from \"react\";\r\nimport { Input, Button } from \"@mui/material\";\r\nimport { Post } from \"../../models/post\";\r\n\r\ninterface EditPostProps {\r\n  post: Post;\r\n  position: number;\r\n  edit: number;\r\n  editPost: (postId: string, postText: string) => Promise<void>;\r\n}\r\n\r\nconst EditPost = ({ post, position, edit, editPost }: EditPostProps) => {\r\n  const [postText, setPostText] = useState<string>(\"\");\r\n\r\n  return (\r\n    <div className={`post__edit ${edit === position ? \"edit\" : \"\"}`}>\r\n      <Input\r\n        value={postText}\r\n        onChange={(e) => {\r\n          setPostText(e.target.value);\r\n        }}\r\n        type=\"text\"\r\n        placeholder=\"Enter new data\"\r\n        multiline={true}\r\n        sx={{\r\n          margin: \"0 0 1rem 0\",\r\n          width: \"100%\",\r\n          \":after\": { borderBottom: \"2px solid #534ED9\" },\r\n        }}\r\n      />\r\n      <Button\r\n        onClick={async (e) => {\r\n          e.preventDefault();\r\n          await editPost(post._id, postText);\r\n          await setPostText(\"\");\r\n        }}\r\n        variant=\"contained\"\r\n        sx={{\r\n          margin: \"0 1rem 0 1rem\",\r\n          fontSize: \".7rem\",\r\n          backgroundColor: \"#534ED9\",\r\n          \":hover\": {\r\n            backgroundColor: \"#7673D9\",\r\n          },\r\n        }}\r\n      >\r\n        Save\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditPost;\r\n","import { useState, useContext } from \"react\";\r\nimport { Context } from \"../../index\";\r\nimport { Button } from \"@mui/material\";\r\nimport { Post } from \"../../models/post\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport InsertDriveFileIcon from \"@mui/icons-material/InsertDriveFile\";\r\nimport FavoriteIcon from \"@mui/icons-material/Favorite\";\r\nimport AddCommentIcon from \"@mui/icons-material/AddComment\";\r\nimport Moment from \"react-moment\";\r\nimport Comment from \"./Comment\";\r\nimport CreateCommentForm from \"./CreateCommentForm\";\r\nimport DeletePost from \"./DeletePost\";\r\nimport EditPost from \"./EditPost\";\r\nimport \"./posts.sass\";\r\n\r\ninterface PostProps {\r\n  posts: Post[];\r\n  addLike: (postId: string) => Promise<void>;\r\n  addComment: (comment: string, postId: string) => Promise<void>;\r\n  deletePost?: (postId: string) => Promise<void>;\r\n  editPost?: (postId: string, postText: string) => Promise<void>;\r\n}\r\n\r\nconst PostList = ({\r\n  posts,\r\n  addLike,\r\n  addComment,\r\n  deletePost,\r\n  editPost,\r\n}: PostProps) => {\r\n  const { store } = useContext(Context);\r\n  const location = useLocation();\r\n  const [isOpen, setIsOpen] = useState<number>();\r\n  const [edit, setEdit] = useState<number>();\r\n\r\n  const currentId = location.pathname.split(\"/\").reverse()[0];\r\n\r\n  return (\r\n    <div className=\"userPosts__container\">\r\n      {posts.map((post, position) => {\r\n        return (\r\n          <div key={post._id} className=\"userPosts__post\">\r\n            <div className=\"post__info\">\r\n              <h4 className=\"post__author\">\r\n                {post.user.firstName} {post.user.lastName}\r\n              </h4>\r\n              <p className=\"post__time\">\r\n                <Moment className=\"time\" format=\"DD.MM.YYYY\">\r\n                  {post.time}\r\n                </Moment>\r\n                <Moment className=\"time\" format=\"HH.mm\">\r\n                  {post.time}\r\n                </Moment>\r\n              </p>\r\n            </div>\r\n            <div className=\"post__files\">\r\n              {post.file.split(\".\").reverse()[0] === \"jpg\" ||\r\n              post.file.split(\".\").reverse()[0] === \"png\" ||\r\n              post.file.split(\".\").reverse()[0] === \"jpeg\" ? (\r\n                <a href={post.file} download target=\"__blank\">\r\n                  <img\r\n                    src={post.file}\r\n                    className=\"file__preview\"\r\n                    alt=\"preview\"\r\n                  />\r\n                </a>\r\n              ) : post.file.split(\"/\").reverse()[0] !== \"null\" ? (\r\n                <a href={post.file} download target=\"__blank\">\r\n                  <InsertDriveFileIcon\r\n                    sx={{\r\n                      color: \"#534ED9\",\r\n                      width: \"30px\",\r\n                      height: \"30px\",\r\n                      verticalAlign: \"middle\",\r\n                      margin: \"1rem 0\",\r\n                    }}\r\n                  />\r\n                  {post.file.split(\"-\").reverse()[0]}\r\n                </a>\r\n              ) : null}\r\n            </div>\r\n            <p className=\"post__text\">{post.text}</p>\r\n            <div className=\"post__functions\">\r\n              <div className=\"post__likes\">\r\n                <FavoriteIcon\r\n                  onClick={async () => await addLike(post._id)}\r\n                  color={\r\n                    post.likes.includes(store.user.id) ? \"error\" : \"action\"\r\n                  }\r\n                  sx={{\r\n                    verticalAlign: \"middle\",\r\n                    margin: \"0 .2rem 0 0\",\r\n                    transition: \"all ease .2s\",\r\n                    \":hover\": { transform: \"scale(1.2)\" },\r\n                  }}\r\n                />\r\n                <span>\r\n                  {post.likes.includes(store.user.id) ? \"liked\" : null}\r\n                </span>\r\n                <AddCommentIcon\r\n                  onClick={() => {\r\n                    return isOpen !== position ? setIsOpen(position) : -1;\r\n                  }}\r\n                  sx={{\r\n                    color: \"#BF3030\",\r\n                    verticalAlign: \"middle\",\r\n                    margin: \"0 .2rem 0 0\",\r\n                    transition: \"all ease .2s\",\r\n                    \":hover\": { transform: \"scale(1.2)\" },\r\n                  }}\r\n                />\r\n              </div>\r\n              <div className=\"post__btns\">\r\n                {store.user.id === currentId ? (\r\n                  <Button\r\n                    onClick={(e) => {\r\n                      e.preventDefault();\r\n                      return edit !== position ? setEdit(position) : -1;\r\n                    }}\r\n                    variant=\"contained\"\r\n                    sx={{\r\n                      margin: \"0 0 0 1rem\",\r\n                      fontSize: \".7rem\",\r\n                      backgroundColor: \"#534ED9\",\r\n                      \":hover\": {\r\n                        backgroundColor: \"#7673D9\",\r\n                      },\r\n                    }}\r\n                  >\r\n                    Edit\r\n                  </Button>\r\n                ) : null}\r\n                {store.user.id === currentId ? (\r\n                  <DeletePost post={post} deletePost={deletePost} />\r\n                ) : null}\r\n              </div>\r\n            </div>\r\n            <hr className=\"post__hr\" />\r\n            {store.user.id === currentId ? (\r\n              <EditPost\r\n                post={post}\r\n                position={position}\r\n                editPost={editPost}\r\n                edit={edit}\r\n              />\r\n            ) : null}\r\n            <div\r\n              className={`post__comment__container ${\r\n                isOpen === position ? \"open\" : \"\"\r\n              }`}\r\n            >\r\n              <div className=\"post__comment__create\">\r\n                <CreateCommentForm post={post} createComment={addComment} />\r\n                <Comment post={post} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostList;\r\n","import { FC, useState, useEffect, useContext } from \"react\";\r\nimport { Context } from \"../../index\";\r\nimport { Post } from \"../../models/post\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport PostService from \"../../services/PostService\";\r\nimport CreatePostForm from \"../Posts/CreatePostForm\";\r\nimport PostList from \"../Posts/PostList\";\r\n\r\nconst UserPosts: FC = () => {\r\n  const { store } = useContext(Context);\r\n  const location = useLocation();\r\n  const [posts, setPosts] = useState<Post[]>([]);\r\n\r\n  const currentId = location.pathname.split(\"/\").reverse()[0];\r\n\r\n  const getUserPosts = async () => {\r\n    const response = await PostService.getUserPostByUserId(currentId);\r\n    setPosts(response.data.reverse());\r\n  };\r\n\r\n  const addLike = async (postId: string) => {\r\n    await PostService.like(postId, store.user.id);\r\n    getUserPosts();\r\n  };\r\n\r\n  const addComment = async (comment: string, postId: string) => {\r\n    await PostService.createComment(postId, comment, store.user.id);\r\n    getUserPosts();\r\n  };\r\n\r\n  const deletePost = async (postId: string) => {\r\n    await PostService.delete(postId);\r\n    getUserPosts();\r\n  };\r\n\r\n  const editPost = async (postId: string, postText: string) => {\r\n    await PostService.edit(postId, postText);\r\n    getUserPosts();\r\n  };\r\n\r\n  useEffect(() => {\r\n    PostService.getUserPostByUserId(currentId).then((res) =>\r\n      setPosts(res.data.reverse())\r\n    );\r\n    return () => {\r\n      setPosts([]);\r\n    };\r\n  }, [currentId]);\r\n\r\n  return (\r\n    <div className=\"profile__posts\">\r\n      {store.user.id === currentId ? (\r\n        <CreatePostForm createPost={getUserPosts} />\r\n      ) : null}\r\n      <PostList\r\n        posts={posts}\r\n        addLike={addLike}\r\n        addComment={addComment}\r\n        deletePost={deletePost}\r\n        editPost={editPost}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserPosts;\r\n","import { useContext } from \"react\";\r\nimport { Context } from \"../../index\";\r\nimport { Avatar } from \"@mui/material\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { User } from \"../../models/user\";\r\nimport \"./userFriends.sass\";\r\n\r\ninterface UserFriendsProps {\r\n  friends?: User[];\r\n}\r\n\r\nconst UserFriends = ({ friends }: UserFriendsProps) => {\r\n  const { store } = useContext(Context);\r\n  const avatarStyles = {\r\n    width: \"50px\",\r\n    height: \"50px\",\r\n    bgcolor: \"#534ED9\",\r\n    overflow: \"hidden\"\r\n  };\r\n  return (\r\n    <div className=\"userFriends__container\">\r\n      <h3 className=\"userFriends__title\">Friends <span>{friends.length}</span></h3>\r\n      <hr />\r\n      <div className=\"userFriends__list\">\r\n        {friends.map((friend) => (\r\n          <Link\r\n            className=\"userFriends__link\"\r\n            key={friend._id}\r\n            to={`/profile/${friend._id}`}\r\n            onClick={() => store.checkAuth()}\r\n          >\r\n            <Avatar src={friend.avatar} sx={avatarStyles}></Avatar>\r\n            {friend.firstName}\r\n          </Link>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserFriends;\r\n","import { FC, useContext } from \"react\";\r\nimport { Context } from \"../../index\";\r\nimport { Avatar } from \"@mui/material\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport UserPosts from \"../UserPosts/UserPosts\";\r\nimport UserFriends from \"../UserFriends/UserFriends\";\r\nimport \"./userProfile.sass\";\r\nimport \"./mobileUserProfile.sass\";\r\n\r\nconst UserProfilePage: FC = () => {\r\n  const { store } = useContext(Context);\r\n  const avatarSrc = store.user.avatar;\r\n  const avatarStyles = {\r\n    width: \"235px\",\r\n    height: \"235px\",\r\n    borderRadius: \".2rem\",\r\n    margin: \"0 auto 1.5rem auto\",\r\n    backgroundColor: \"#534ED9\",\r\n    boxShadow: \"0px 1px 10px #3d3d3d\",\r\n    fontSize: \"50px\",\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"profile__container\">\r\n        <div className=\"profile__first__column\">\r\n          <Avatar variant=\"square\" src={avatarSrc} sx={avatarStyles}>\r\n            {store.user.firstName}\r\n          </Avatar>\r\n          <ul className=\"profile__info\">\r\n            {store.user.city !== \"\" ? (\r\n              <li className=\"profile__info__list\">City: {store.user.city}</li>\r\n            ) : null}\r\n            {store.user.birthday ? (\r\n              <li className=\"profile__info__list\">\r\n                My Birthday:{\" \"}\r\n                {store.user.birthday.split(\"-\").reverse().join(\".\")}\r\n              </li>\r\n            ) : null}\r\n            {store.user.stack !== \"\" ? (\r\n              <li className=\"profile__info__list\">Stack: {store.user.stack}</li>\r\n            ) : null}\r\n            {store.user.position !== \"\" ? (\r\n              <li className=\"profile__info__list\">\r\n                Position: {store.user.position}\r\n              </li>\r\n            ) : null}\r\n            {store.user.department !== \"\" ? (\r\n              <li className=\"profile__info__list\">\r\n                Department: {store.user.department}\r\n              </li>\r\n            ) : null}\r\n            {store.user.education !== \"\" ? (\r\n              <li className=\"profile__info__list\">\r\n                Education: {store.user.education}\r\n              </li>\r\n            ) : null}\r\n            {store.user.skype !== \"\" ? (\r\n              <li className=\"profile__info__list\">Skype: {store.user.skype}</li>\r\n            ) : null}\r\n            {store.user.phone ? (\r\n              <li className=\"profile__info__list\">Phone: {store.user.phone}</li>\r\n            ) : null}\r\n          </ul>\r\n          <UserFriends friends={store.user.friends} />\r\n        </div>\r\n        <div className=\"profile__second__column\">\r\n          <p className=\"profile__name\">\r\n            {store.user.firstName && store.user.lastName\r\n              ? `${store.user.firstName} ${store.user.lastName}`\r\n              : \"I don't have a name\"}\r\n          </p>\r\n          <p className=\"profile__about\">\r\n            {store.user.description !== \"\"\r\n              ? `About me: ${store.user.description}`\r\n              : \"Nothing at now...\"}\r\n          </p>\r\n          <UserPosts />\r\n        </div>\r\n      </div>\r\n      <div className=\"mobile__profile__container\">\r\n        <div className=\"mobile__profile__column\">\r\n          <Avatar variant=\"square\" src={avatarSrc} sx={avatarStyles}>\r\n            {store.user.firstName}\r\n          </Avatar>\r\n          <p className=\"mobile__profile__name\">\r\n            {store.user.firstName && store.user.lastName\r\n              ? `${store.user.firstName} ${store.user.lastName}`\r\n              : \"I don't have a name\"}\r\n          </p>\r\n          <ul className=\"mobile__profile__info\">\r\n            {store.user.city !== \"\" ? (\r\n              <li className=\"mobile__profile__info__list\">\r\n                City: {store.user.city}\r\n              </li>\r\n            ) : null}\r\n            {store.user.birthday ? (\r\n              <li className=\"mobile__profile__info__list\">\r\n                My Birthday:{\" \"}\r\n                {store.user.birthday.split(\"-\").reverse().join(\".\")}\r\n              </li>\r\n            ) : null}\r\n            {store.user.stack !== \"\" ? (\r\n              <li className=\"mobile__profile__info__list\">\r\n                Stack: {store.user.stack}\r\n              </li>\r\n            ) : null}\r\n            {store.user.position !== \"\" ? (\r\n              <li className=\"mobile__profile__info__list\">\r\n                Position: {store.user.position}\r\n              </li>\r\n            ) : null}\r\n            {store.user.department !== \"\" ? (\r\n              <li className=\"mobile__profile__info__list\">\r\n                Department: {store.user.department}\r\n              </li>\r\n            ) : null}\r\n            {store.user.education !== \"\" ? (\r\n              <li className=\"mobile__profile__info__list\">\r\n                Education: {store.user.education}\r\n              </li>\r\n            ) : null}\r\n            {store.user.skype !== \"\" ? (\r\n              <li className=\"mobile__profile__info__list\">\r\n                Skype: {store.user.skype}\r\n              </li>\r\n            ) : null}\r\n            {store.user.phone ? (\r\n              <li className=\"mobile__profile__info__list\">\r\n                Phone: {store.user.phone}\r\n              </li>\r\n            ) : null}\r\n          </ul>\r\n          <p className=\"mobile__profile__about\">\r\n            {store.user.description !== \"\"\r\n              ? `About me: ${store.user.description}`\r\n              : \"Nothing at now...\"}\r\n          </p>\r\n          <UserFriends friends={store.user.friends} />\r\n          <UserPosts />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default observer(UserProfilePage);\r\n","import api from \"../http/axios\";\r\nimport { AxiosResponse } from \"axios\";\r\n\r\nexport default class FriendsService {\r\n  static async request(\r\n    receiverId: string,\r\n    senderId: string\r\n  ): Promise<AxiosResponse> {\r\n    return api.post(\"/friend/request\", { receiverId, senderId });\r\n  }\r\n\r\n  static async accept(\r\n    receiverId: string,\r\n    senderId: string,\r\n    requestId: string\r\n  ): Promise<AxiosResponse> {\r\n    return api.post(\"/friend/accept\", { receiverId, senderId, requestId });\r\n  }\r\n\r\n  static async decline(requestId: string): Promise<AxiosResponse> {\r\n    return api.post(\"/friend/decline\", { requestId });\r\n  }\r\n\r\n  static async delete(\r\n    userId: string,\r\n    friendId: string\r\n  ): Promise<AxiosResponse> {\r\n    return api.post(\"/friend/delete\", { userId, friendId });\r\n  }\r\n\r\n  static async getRequests(receiverId: string): Promise<AxiosResponse> {\r\n    return api.get(`/friend/requests/${receiverId}`);\r\n  }\r\n}\r\n","import { useContext } from \"react\";\r\nimport { Context } from \"../../index\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport FriendsService from \"../../services/FriendsService\";\r\nimport { Button } from \"@mui/material\";\r\nimport \"./userProfile.sass\";\r\n\r\ninterface BtnProps {\r\n  disabled?: boolean;\r\n}\r\n\r\nconst AddFriend = ({ disabled }: BtnProps) => {\r\n  const { store } = useContext(Context);\r\n  const navigate = useNavigate();\r\n\r\n  const addFriend = async () => {\r\n    await FriendsService.request(store.otherUser.id, store.user.id);\r\n    navigate(`/friends/${store.user.id}`);\r\n  };\r\n\r\n  const btnStyles = {\r\n    margin: \"0 0 1.5rem 0\",\r\n    width: \"100%\",\r\n    backgroundColor: \"#534ED9\",\r\n    \":hover\": { backgroundColor: \"#7673D9\" },\r\n  };\r\n\r\n  return (\r\n    <Button\r\n      disabled={disabled}\r\n      variant=\"contained\"\r\n      sx={btnStyles}\r\n      onClick={addFriend}\r\n    >\r\n      Add Friend\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default AddFriend;\r\n","import api from \"../http/axios\";\r\nimport { AxiosResponse } from \"axios\";\r\nimport { AuthResponse } from \"../models/response/authResponse\";\r\n\r\nexport default class UserService {\r\n  static fetchUsers = (args?: any, limit?: number): Promise<AxiosResponse> => {\r\n    return api.get(\"/users?limit=\" + limit, {\r\n      params: { ...args },\r\n    });\r\n  };\r\n\r\n  static blockUser = (\r\n    userId: string,\r\n    blockedUserId: string\r\n  ): Promise<AxiosResponse> => {\r\n    return api.post(\"/user/block\", { userId, blockedUserId });\r\n  };\r\n\r\n  static unblockUser = (\r\n    userId: string,\r\n    blockedUserId: string\r\n  ): Promise<AxiosResponse> => {\r\n    return api.post(\"/user/unblock\", { userId, blockedUserId });\r\n  };\r\n\r\n  static getUserInfo = (\r\n    userId: string\r\n  ): Promise<AxiosResponse<AuthResponse>> => {\r\n    return api.get<AuthResponse>(`/profile/${userId}`);\r\n  };\r\n\r\n  static getUserPost = (userId: string): Promise<AxiosResponse> => {\r\n    return api.get(`/profile/posts/${userId}`);\r\n  };\r\n}\r\n","import { FC, useContext, useEffect, useState } from \"react\";\r\nimport { Context } from \"../../index\";\r\nimport { Avatar, Button } from \"@mui/material\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport UserService from \"../../services/UserService\";\r\nimport \"./userProfile.sass\";\r\n\r\nconst PrivateProfile: FC = () => {\r\n  const { store } = useContext(Context);\r\n  const [blocked, setBlocked] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    if (store.user.blockedUser?.includes(store.otherUser.id)) {\r\n      setBlocked(true);\r\n      return () => setBlocked(false);\r\n    }\r\n    return () => setBlocked(false);\r\n  }, [store.otherUser.id, store.user.blockedUser]);\r\n\r\n  const avatarStyles = {\r\n    width: \"235px\",\r\n    height: \"235px\",\r\n    borderRadius: \".2rem\",\r\n    margin: \"0 auto 1.5rem auto\",\r\n    backgroundColor: \"#534ED9\",\r\n    boxShadow: \"0px 1px 10px #3d3d3d\",\r\n    fontSize: \"50px\",\r\n  };\r\n\r\n  const btnStyles = {\r\n    width: \"fit-content\",\r\n    height: \"fit-content\",\r\n    margin: \"0\",\r\n    backgroundColor: \"#534ED9\",\r\n    \":hover\": { backgroundColor: \"#7673D9\" },\r\n  };\r\n\r\n  return (\r\n    <div className=\"profile__container\">\r\n      <div className=\"profile__first__column\">\r\n        <Avatar variant=\"square\" src={store.otherUser.avatar} sx={avatarStyles}>\r\n          {store.otherUser.firstName}\r\n        </Avatar>\r\n      </div>\r\n      <div className=\"profile__second__column\">\r\n        <p className=\"profile__name\">\r\n          <span>\r\n            {store.otherUser.firstName && store.otherUser.lastName\r\n              ? `${store.otherUser.firstName} ${store.otherUser.lastName}`\r\n              : \"I don't have a name\"}\r\n          </span>\r\n          {blocked ? (\r\n            <Button\r\n              sx={btnStyles}\r\n              variant=\"contained\"\r\n              onClick={async () => {\r\n                await UserService.unblockUser(\r\n                  store.user.id,\r\n                  store.otherUser.id\r\n                );\r\n                await store.checkAuth();\r\n              }}\r\n            >\r\n              Unblock User\r\n            </Button>\r\n          ) : (\r\n            <Button\r\n              sx={btnStyles}\r\n              variant=\"contained\"\r\n              onClick={async () => {\r\n                await UserService.blockUser(store.user.id, store.otherUser.id);\r\n                await store.checkAuth();\r\n              }}\r\n            >\r\n              Block User\r\n            </Button>\r\n          )}\r\n        </p>\r\n        <div className=\"profile__private\">\r\n          This profile is hidden from others\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default observer(PrivateProfile);\r\n","import api from \"../http/axios\";\r\nimport { AxiosResponse } from \"axios\";\r\n\r\nexport default class ConversationService {\r\n  static conversation = (\r\n    senderId: string,\r\n    receiverId: string\r\n  ): Promise<AxiosResponse> => {\r\n    return api.post(\"/messenger/conversation\", { senderId, receiverId });\r\n  };\r\n\r\n  static delete = (conversationId: string): Promise<AxiosResponse> => {\r\n    return api.post(\"/messenger/delete\", { conversationId });\r\n  };\r\n\r\n  static getConversation = (userId: string): Promise<AxiosResponse> => {\r\n    return api.get(`/messenger/${userId}`);\r\n  };\r\n}\r\n","import { FC, useContext } from \"react\";\r\nimport { Context } from \"../../index\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Button } from \"@mui/material\";\r\nimport ConversationService from \"../../services/ConverstionService\";\r\nimport \"./userProfile.sass\";\r\n\r\nconst SendMessage: FC = () => {\r\n  const navigate = useNavigate();\r\n  const { store } = useContext(Context);\r\n  const btnStyles = {\r\n    width: \"100%\",\r\n    margin: \"0 0 1.5rem 0\",\r\n    backgroundColor: \"#534ED9\",\r\n    \":hover\": { backgroundColor: \"#7673D9\" },\r\n  };\r\n\r\n  const createConversation = async () => {\r\n    await ConversationService.conversation(store.user.id, store.otherUser.id);\r\n  };\r\n\r\n  return (\r\n    <Button\r\n      variant=\"contained\"\r\n      sx={btnStyles}\r\n      onClick={async () => {\r\n        await createConversation();\r\n        navigate(`/friends/${store.user.id}`);\r\n      }}\r\n    >\r\n      Send Message\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default SendMessage;\r\n","import { FC, useContext, useState, useEffect } from \"react\";\r\nimport { Context } from \"../../index\";\r\nimport { Avatar, Button } from \"@mui/material\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport AddFriend from \"./AddFriend\";\r\nimport PrivateProfile from \"./PrivateProfile\";\r\nimport UserFriends from \"../UserFriends/UserFriends\";\r\nimport SendMessage from \"./SendMessage\";\r\nimport UserService from \"../../services/UserService\";\r\nimport UserPosts from \"../UserPosts/UserPosts\";\r\nimport \"./userProfile.sass\";\r\nimport \"./mobileUserProfile.sass\";\r\n\r\nconst OtherUserProfilePage: FC = () => {\r\n  const { store } = useContext(Context);\r\n  const location = useLocation();\r\n  const [active, setActive] = useState<boolean>(false);\r\n  const [blocked, setBlocked] = useState<boolean>(false);\r\n  const avatarSrc = store.otherUser.avatar;\r\n  const currentId = location.pathname.split(\"/\").reverse()[0];\r\n  const block: string[] = store.otherUser.blockedUser;\r\n  const avatarStyles = {\r\n    width: \"235px\",\r\n    height: \"235px\",\r\n    borderRadius: \".2rem\",\r\n    margin: \"0 auto 1.5rem auto\",\r\n    backgroundColor: \"#534ED9\",\r\n    boxShadow: \"0px 1px 10px #3d3d3d\",\r\n    fontSize: \"50px\",\r\n  };\r\n\r\n  const btnStyles = {\r\n    width: \"fit-content\",\r\n    height: \"fit-content\",\r\n    margin: \"0\",\r\n    backgroundColor: \"#534ED9\",\r\n    \":hover\": { backgroundColor: \"#7673D9\" },\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (store.user.friends) {\r\n      store.user.friends.forEach((friendId: any) => {\r\n        if (friendId._id === currentId) {\r\n          setActive(true);\r\n        }\r\n      });\r\n    }\r\n  }, [currentId, store.user.friends]);\r\n\r\n  useEffect(() => {\r\n    if (store.user.blockedUser?.includes(store.otherUser.id)) {\r\n      setBlocked(true);\r\n      return () => setBlocked(false);\r\n    }\r\n    return () => setBlocked(false);\r\n  }, [store.otherUser.id, store.user.blockedUser]);\r\n\r\n  if (store.otherUser.privatePage) {\r\n    return <PrivateProfile />;\r\n  }\r\n  if (block && block.includes(store.user.id)) {\r\n    return <PrivateProfile />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"profile__container\">\r\n        <div className=\"profile__first__column\">\r\n          <Avatar variant=\"square\" src={avatarSrc} sx={avatarStyles}>\r\n            {store.otherUser.firstName}\r\n          </Avatar>\r\n          {active ? (\r\n            <AddFriend disabled={true} />\r\n          ) : (\r\n            <AddFriend disabled={false} />\r\n          )}\r\n          <SendMessage />\r\n          <ul className=\"profile__info\">\r\n            {store.otherUser.birthday ? (\r\n              <li className=\"profile__info__list\">\r\n                My Birthday:{\" \"}\r\n                {store.otherUser.birthday.split(\"-\").reverse().join(\".\")}\r\n              </li>\r\n            ) : null}\r\n            {store.otherUser.stack !== \"\" ? (\r\n              <li className=\"profile__info__list\">\r\n                Stack: {store.otherUser.stack}\r\n              </li>\r\n            ) : null}\r\n            {store.otherUser.position !== \"\" ? (\r\n              <li className=\"profile__info__list\">\r\n                Position: {store.otherUser.position}\r\n              </li>\r\n            ) : null}\r\n            {store.otherUser.department !== \"\" ? (\r\n              <li className=\"profile__info__list\">\r\n                Department: {store.otherUser.department}\r\n              </li>\r\n            ) : null}\r\n            {store.otherUser.education !== \"\" ? (\r\n              <li className=\"profile__info__list\">\r\n                Education: {store.otherUser.education}\r\n              </li>\r\n            ) : null}\r\n            {store.otherUser.skype !== \"\" ? (\r\n              <li className=\"profile__info__list\">\r\n                Skype: {store.otherUser.skype}\r\n              </li>\r\n            ) : null}\r\n            {store.otherUser.phone ? (\r\n              <li className=\"profile__info__list\">\r\n                Phone: {store.otherUser.phone}\r\n              </li>\r\n            ) : null}\r\n          </ul>\r\n          {store.otherUser.friends ? (\r\n            <UserFriends friends={store.otherUser.friends} />\r\n          ) : null}\r\n        </div>\r\n        <div className=\"profile__second__column\">\r\n          <p className=\"profile__name\">\r\n            <span>\r\n              {store.otherUser.firstName && store.otherUser.lastName\r\n                ? `${store.otherUser.firstName} ${store.otherUser.lastName}`\r\n                : \"I don't have a name\"}\r\n            </span>\r\n            {blocked ? (\r\n              <Button\r\n                sx={btnStyles}\r\n                variant=\"contained\"\r\n                onClick={async () => {\r\n                  await UserService.unblockUser(\r\n                    store.user.id,\r\n                    store.otherUser.id\r\n                  );\r\n                  await store.checkAuth();\r\n                }}\r\n              >\r\n                Unblock User\r\n              </Button>\r\n            ) : (\r\n              <Button\r\n                sx={btnStyles}\r\n                variant=\"contained\"\r\n                onClick={async () => {\r\n                  await UserService.blockUser(\r\n                    store.user.id,\r\n                    store.otherUser.id\r\n                  );\r\n                  await store.checkAuth();\r\n                }}\r\n              >\r\n                Block User\r\n              </Button>\r\n            )}\r\n          </p>\r\n          <p className=\"profile__about\">\r\n            {store.otherUser.description\r\n              ? `About me: ${store.otherUser.description}`\r\n              : \"Nothing at now...\"}\r\n          </p>\r\n          <UserPosts />\r\n        </div>\r\n      </div>\r\n      <div className=\"mobile__profile__container\">\r\n        <div className=\"mobile__profile__column\">\r\n          <Avatar variant=\"square\" src={avatarSrc} sx={avatarStyles}>\r\n            {store.otherUser.firstName}\r\n          </Avatar>\r\n          <p className=\"mobile__profile__name\">\r\n            {store.otherUser.firstName && store.otherUser.lastName\r\n              ? `${store.otherUser.firstName} ${store.otherUser.lastName}`\r\n              : \"I don't have a name\"}\r\n          </p>\r\n          {active ? (\r\n            <AddFriend disabled={true} />\r\n          ) : (\r\n            <AddFriend disabled={false} />\r\n          )}\r\n          <SendMessage />\r\n          {blocked ? (\r\n            <Button\r\n              sx={btnStyles}\r\n              variant=\"contained\"\r\n              onClick={async () => {\r\n                await UserService.unblockUser(\r\n                  store.user.id,\r\n                  store.otherUser.id\r\n                );\r\n                await store.checkAuth();\r\n              }}\r\n            >\r\n              Unblock User\r\n            </Button>\r\n          ) : (\r\n            <Button\r\n              sx={btnStyles}\r\n              variant=\"contained\"\r\n              onClick={async () => {\r\n                await UserService.blockUser(store.user.id, store.otherUser.id);\r\n                await store.checkAuth();\r\n              }}\r\n            >\r\n              Block User\r\n            </Button>\r\n          )}\r\n          <ul className=\"mobile__profile__info\">\r\n            {store.otherUser.city !== \"\" ? (\r\n              <li className=\"mobile__profile__info__list\">\r\n                City: {store.otherUser.city}\r\n              </li>\r\n            ) : null}\r\n            {store.otherUser.birthday ? (\r\n              <li className=\"mobile__profile__info__list\">\r\n                My Birthday:{\" \"}\r\n                {store.otherUser.birthday.split(\"-\").reverse().join(\".\")}\r\n              </li>\r\n            ) : null}\r\n            {store.otherUser.stack !== \"\" ? (\r\n              <li className=\"mobile__profile__info__list\">\r\n                Stack: {store.otherUser.stack}\r\n              </li>\r\n            ) : null}\r\n            {store.otherUser.position !== \"\" ? (\r\n              <li className=\"mobile__profile__info__list\">\r\n                Position: {store.otherUser.position}\r\n              </li>\r\n            ) : null}\r\n            {store.otherUser.department !== \"\" ? (\r\n              <li className=\"mobile__profile__info__list\">\r\n                Department: {store.otherUser.department}\r\n              </li>\r\n            ) : null}\r\n            {store.otherUser.education !== \"\" ? (\r\n              <li className=\"mobile__profile__info__list\">\r\n                Education: {store.otherUser.education}\r\n              </li>\r\n            ) : null}\r\n            {store.otherUser.skype !== \"\" ? (\r\n              <li className=\"mobile__profile__info__list\">\r\n                Skype: {store.otherUser.skype}\r\n              </li>\r\n            ) : null}\r\n            {store.otherUser.phone ? (\r\n              <li className=\"mobile__profile__info__list\">\r\n                Phone: {store.otherUser.phone}\r\n              </li>\r\n            ) : null}\r\n          </ul>\r\n          <p className=\"mobile__profile__about\">\r\n            {store.otherUser.description !== \"\"\r\n              ? `About me: ${store.otherUser.description}`\r\n              : \"Nothing at now...\"}\r\n          </p>\r\n          {store.otherUser.friends ? (\r\n            <UserFriends friends={store.otherUser.friends} />\r\n          ) : null}\r\n          <UserPosts />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default observer(OtherUserProfilePage);\r\n","import { FC, useContext, useEffect } from \"react\";\r\nimport { Context } from \"../../index\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport UserProfile from \"../../components/UsersProfile/UserProfile\";\r\nimport OtherUserProfile from \"../../components/UsersProfile/OtherUserProfile\";\r\n\r\nconst UserProfilePage: FC = () => {\r\n  const { store } = useContext(Context);\r\n  const location = useLocation();\r\n  const currentId = location.pathname.split(\"/\").reverse()[0];\r\n  const userId = store.user.id;\r\n\r\n  useEffect(() => {\r\n    if (userId !== currentId) {\r\n      store.getOtherUser(currentId);\r\n      return () => null;\r\n    }\r\n    return () => null;\r\n  }, [currentId, store, userId]);\r\n\r\n  if (userId === currentId) {\r\n    return (\r\n      <>\r\n        <UserProfile />\r\n      </>\r\n    );\r\n  }\r\n  return (\r\n    <>\r\n      <OtherUserProfile />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default observer(UserProfilePage);\r\n","import { Button } from \"@mui/material\";\r\n\r\ninterface FetchMoreProps {\r\n  fetchMore: () => void;\r\n}\r\n\r\nconst FetchMore = ({ fetchMore }: FetchMoreProps) => {\r\n  const moreBtnStyles = {\r\n    width: \"fit-content\",\r\n    backgroundColor: \"#534ED9\",\r\n    \":hover\": { backgroundColor: \"#7673D9\" },\r\n  };\r\n  return (\r\n    <Button sx={moreBtnStyles} variant=\"contained\" onClick={fetchMore}>\r\n      Show More\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default FetchMore;\r\n","import { FC, useEffect, useState, useContext } from \"react\";\r\nimport { Post } from \"../../models/post\";\r\nimport { Context } from \"../../index\";\r\nimport PostService from \"../../services/PostService\";\r\nimport FavoriteIcon from \"@mui/icons-material/Favorite\";\r\nimport InsertDriveFileIcon from \"@mui/icons-material/InsertDriveFile\";\r\nimport AddCommentIcon from \"@mui/icons-material/AddComment\";\r\nimport Moment from \"react-moment\";\r\nimport CreateCommentForm from \"../Posts/CreateCommentForm\";\r\nimport Comment from \"../Posts/Comment\";\r\nimport \"./boardPosts.sass\";\r\nimport FetchMore from \"../FetchMore/FetchMore\";\r\n\r\nconst BoardPosts: FC = () => {\r\n  const { store } = useContext(Context);\r\n  const [posts, setPosts] = useState<Post[]>([]);\r\n  const [isOpen, setIsOpen] = useState<number>();\r\n  const [limit, setLimit] = useState<number>(10);\r\n  const [totalPosts, setTotalPosts] = useState<number>(0);\r\n\r\n  const getAllPosts = async (limit: number) => {\r\n    await PostService.getAllPosts(limit).then((res) => {\r\n      setPosts(res.data.posts.reverse());\r\n      setTotalPosts(res.data.length);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getAllPosts(limit);\r\n    return () => {\r\n      setPosts([]);\r\n    };\r\n  }, [limit]);\r\n\r\n  const fetchMore = () => {\r\n    return setLimit(limit + 10);\r\n  };\r\n\r\n  const addLike = async (postId: string) => {\r\n    await PostService.like(postId, store.user.id);\r\n    getAllPosts(limit);\r\n  };\r\n\r\n  const addComment = async (comment: string, postId: string) => {\r\n    await PostService.createComment(postId, comment, store.user.id);\r\n    getAllPosts(limit);\r\n  };\r\n\r\n  return (\r\n    <div className=\"board\">\r\n      <div className=\"board__posts__box\">\r\n      {posts.length > 0\r\n        ? posts.map((post, position) => {\r\n            return (\r\n              <div key={post._id} className=\"board__post\">\r\n                <div className=\"board__info\">\r\n                  <h4 className=\"board__author\">\r\n                    {post.user.firstName} {post.user.lastName}\r\n                  </h4>\r\n                  <p className=\"board__time\">\r\n                    <Moment className=\"time\" format=\"DD.MM.YYYY\">\r\n                      {post.time}\r\n                    </Moment>\r\n                    <Moment className=\"time\" format=\"HH.mm\">\r\n                      {post.time}\r\n                    </Moment>\r\n                  </p>\r\n                </div>\r\n                {post.file.split(\".\").reverse()[0] === \"jpg\" ||\r\n                post.file.split(\".\").reverse()[0] === \"png\" ||\r\n                post.file.split(\".\").reverse()[0] === \"jpeg\" ? (\r\n                  <a href={post.file} download target=\"__blank\">\r\n                    <img\r\n                      src={post.file}\r\n                      className=\"file__preview\"\r\n                      alt=\"preview\"\r\n                    />\r\n                  </a>\r\n                ) : post.file.split(\"/\").reverse()[0] !== \"null\" ? (\r\n                  <a href={post.file} download target=\"__blank\">\r\n                    <InsertDriveFileIcon\r\n                      sx={{\r\n                        color: \"#534ED9\",\r\n                        width: \"30px\",\r\n                        height: \"30px\",\r\n                        verticalAlign: \"middle\",\r\n                        margin: \"1rem 0\",\r\n                      }}\r\n                    />\r\n                    {post.file.split(\"-\").reverse()[0]}\r\n                  </a>\r\n                ) : null}\r\n                <p className=\"board__text\">{post.text}</p>\r\n                <div className=\"board__likes\">\r\n                  <FavoriteIcon\r\n                    onClick={async () => await addLike(post._id)}\r\n                    color={\r\n                      post.likes.includes(store.user.id) ? \"error\" : \"action\"\r\n                    }\r\n                    sx={{\r\n                      verticalAlign: \"middle\",\r\n                      margin: \"0 .2rem 0 0\",\r\n                      transition: \"all ease .2s\",\r\n                      \":hover\": { transform: \"scale(1.2)\" },\r\n                    }}\r\n                  />\r\n                  <span>\r\n                    {post.likes.includes(store.user.id) ? \"liked\" : null}\r\n                  </span>\r\n                  <AddCommentIcon\r\n                    onClick={() => {\r\n                      return isOpen !== position ? setIsOpen(position) : -1;\r\n                    }}\r\n                    sx={{\r\n                      color: \"#BF3030\",\r\n                      verticalAlign: \"middle\",\r\n                      margin: \"0 .2rem 0 0\",\r\n                      transition: \"all ease .2s\",\r\n                      \":hover\": { transform: \"scale(1.2)\" },\r\n                    }}\r\n                  />\r\n                </div>\r\n                <hr className=\"post__hr\" />\r\n                <div\r\n                  className={`post__comment__container ${\r\n                    isOpen === position ? \"open\" : \"\"\r\n                  }`}\r\n                >\r\n                  <div className=\"post__comment__create\">\r\n                    <CreateCommentForm post={post} createComment={addComment} />\r\n                    <Comment post={post} />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })\r\n        : null}\r\n        </div>\r\n      {posts?.length >= totalPosts ? null : <FetchMore fetchMore={fetchMore} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BoardPosts;\r\n","import { FC } from \"react\";\r\nimport BoardPosts from \"../../components/BoardPosts/BoardPosts\";\r\nimport \"./board.sass\";\r\n\r\nconst Board: FC = () => {\r\n  return (\r\n    <div className=\"board__container\">\r\n      <h2 className=\"board__title\">Board</h2>\r\n      <div className=\"board__box\">\r\n        <BoardPosts />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Board;\r\n","import { useContext } from \"react\";\r\nimport { Context } from \"../../index\";\r\nimport { Button } from \"@mui/material\";\r\nimport FriendsService from \"../../services/FriendsService\";\r\n\r\ninterface BtnProps {\r\n  friendId: string;\r\n}\r\n\r\nconst DeleteFriendBtn = ({ friendId }: BtnProps) => {\r\n  const { store } = useContext(Context);\r\n\r\n  const btnStyles = {\r\n    margin: \"0 0 0 2rem\",\r\n    width: \"fit-content\",\r\n    backgroundColor: \"#534ED9\",\r\n    \":hover\": { backgroundColor: \"#7673D9\" },\r\n  };\r\n\r\n  const deleteFriend = async () => {\r\n    await FriendsService.delete(store.user.id, friendId);\r\n    store.checkAuth();\r\n  };\r\n\r\n  return (\r\n    <Button sx={btnStyles} variant=\"contained\" onClick={deleteFriend}>\r\n      Delete\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default DeleteFriendBtn;\r\n","import { FC, useEffect, useState, useContext } from \"react\";\r\nimport { Context } from \"../../index\";\r\nimport { User } from \"../../models/user\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Avatar } from \"@mui/material\";\r\nimport DeleteFriendBtn from \"../UserFriends/DeleteFriendBtn\";\r\nimport \"./friendsList.sass\";\r\n\r\nconst FriendsList: FC = () => {\r\n  const { store } = useContext(Context);\r\n  const [friends, setFriends] = useState<User[]>([]);\r\n\r\n  useEffect(() => {\r\n    setFriends(store.user.friends);\r\n    return () => setFriends(null);\r\n  }, [store.user.friends]);\r\n\r\n  const avatarStyles = {\r\n    width: \"100px\",\r\n    height: \"100px\",\r\n    margin: \"0 .8rem 0 0\",\r\n    backgroundColor: \"#534ED9\",\r\n    fontSize: \"50px\",\r\n  };\r\n\r\n  return (\r\n    <ul className=\"friends__list\">\r\n      {friends.length > 0 ? (\r\n        friends.map((friend: any) => {\r\n          return (\r\n            <li className=\"users__friends\" key={friend._id}>\r\n              <div className=\"users__data\">\r\n                <Link to={`/profile/${friend._id}`}>\r\n                  <Avatar src={friend.avatar} sx={avatarStyles}></Avatar>\r\n                </Link>\r\n                <ul className=\"users__data__ul\">\r\n                  <li className=\"users__data__li\">\r\n                    {friend.firstName && friend.lastName\r\n                      ? `${friend.firstName} ${friend.lastName}`\r\n                      : null}\r\n                  </li>\r\n                  <li className=\"friend__data__li\">\r\n                    {friend.email ? `Email: ${friend.email}` : null}\r\n                  </li>\r\n                  <li className=\"friend__data__li\">\r\n                    {friend.city ? `City: ${friend.city}` : null}\r\n                  </li>\r\n                  <li className=\"friend__data__li\">\r\n                    {friend.birthday\r\n                      ? `Birthday: ${friend.birthday\r\n                          .split(\"-\")\r\n                          .reverse()\r\n                          .join(\".\")}`\r\n                      : null}\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n              <DeleteFriendBtn friendId={friend._id} />\r\n            </li>\r\n          );\r\n        })\r\n      ) : (\r\n        <h3 className=\"empty__page\">No friends yet</h3>\r\n      )}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default FriendsList;\r\n","import { FC, useEffect, useState, useContext } from \"react\";\r\nimport { Context } from \"../../index\";\r\nimport { Button } from \"@mui/material\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport FriendsService from \"../../services/FriendsService\";\r\nimport \"./friendsRequest.sass\";\r\n\r\nconst FriendsRequest: FC = () => {\r\n  const { store } = useContext(Context);\r\n  const location = useLocation();\r\n  const [requests, setRequests] = useState<any>([]);\r\n  const receiverId = location.pathname.split(\"/\").reverse()[0];\r\n\r\n  const getRequests = async () => {\r\n    const response = await FriendsService.getRequests(receiverId);\r\n    setRequests(response.data);\r\n  };\r\n\r\n  const acceptRequest = async (\r\n    receiverId: string,\r\n    senderId: string,\r\n    requestId: string\r\n  ) => {\r\n    const response = await FriendsService.accept(\r\n      receiverId,\r\n      senderId,\r\n      requestId\r\n    );\r\n    store.checkAuth();\r\n    return response;\r\n  };\r\n\r\n  const declineRequest = async (requestId: string) => {\r\n    const response = await FriendsService.decline(requestId);\r\n    return response;\r\n  };\r\n\r\n  useEffect(() => {\r\n    FriendsService.getRequests(receiverId).then((res) => setRequests(res.data));\r\n    return () => setRequests(null);\r\n  }, [receiverId]);\r\n\r\n  const btnStyles = {\r\n    margin: \"1rem .5rem 0 .5rem\",\r\n    width: \"fit-content\",\r\n    height: \"fit-content\",\r\n    backgroundColor: \"#534ED9\",\r\n    \":hover\": { backgroundColor: \"#7673D9\" },\r\n  };\r\n  return (\r\n    <div className=\"friends__requests\">\r\n      {requests?.length > 0 ? <hr /> : null}\r\n      <div className=\"friends__requests__box\">\r\n        {requests?.length > 0\r\n          ? requests.map((request: any) => {\r\n              return (\r\n                <div key={request._id} className=\"requests\">\r\n                  {request.sender.firstName} {request.sender.lastName} wants to\r\n                  add you as a friend\r\n                  <div>\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      sx={btnStyles}\r\n                      onClick={async () => {\r\n                        await acceptRequest(\r\n                          request.receiver,\r\n                          request.sender._id,\r\n                          request._id\r\n                        );\r\n                        getRequests();\r\n                      }}\r\n                    >\r\n                      Accept\r\n                    </Button>\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      sx={btnStyles}\r\n                      onClick={async () => {\r\n                        await declineRequest(request._id);\r\n                        getRequests();\r\n                      }}\r\n                    >\r\n                      Decline\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })\r\n          : null}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FriendsRequest;\r\n","import { FC } from \"react\";\r\nimport FriendsList from \"../../components/FriendsList/FriendsList\";\r\nimport FriendsRequest from \"../../components/FriendsRequest/FriendsRequest\";\r\nimport \"./friends.sass\";\r\n\r\nconst Friends: FC = () => {\r\n  return (\r\n    <div className=\"friends__container\">\r\n      <h2 className=\"friends__title\">Friends</h2>\r\n      <div className=\"friends__box\">\r\n        <FriendsList />\r\n        <FriendsRequest />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Friends;\r\n","import { adminApi } from \"../../http/axios\";\r\nimport { AxiosResponse } from \"axios\";\r\n\r\nexport default class AdminService {\r\n  static async delete(userId: string): Promise<AxiosResponse> {\r\n    return adminApi.post<AxiosResponse>(\"/delete\", { userId });\r\n  }\r\n\r\n  static async registration(\r\n    username: string,\r\n    email: string,\r\n    password: string,\r\n    firstName: string,\r\n    lastName: string,\r\n    role?: string\r\n  ): Promise<AxiosResponse> {\r\n    return adminApi.post<AxiosResponse>(\"/registration\", {\r\n      username,\r\n      email,\r\n      password,\r\n      firstName,\r\n      lastName,\r\n      role,\r\n    });\r\n  }\r\n\r\n  static async edit(userId: string, { ...args }): Promise<AxiosResponse> {\r\n    return adminApi.patch<AxiosResponse>(\"/editInfo\", {\r\n      userId: userId,\r\n      userInfo: { ...args },\r\n    });\r\n  }\r\n\r\n  static async changePassword(\r\n    userId: string,\r\n    newPassword: string\r\n  ): Promise<AxiosResponse> {\r\n    return adminApi.patch<AxiosResponse>(\"/changePassword\", {\r\n      userId,\r\n      newPassword,\r\n    });\r\n  }\r\n\r\n  static async changeAvatar(\r\n    userId: string,\r\n    avatarUrl: string\r\n  ): Promise<AxiosResponse> {\r\n    return adminApi.post<AxiosResponse>(\"/avatar\", { userId, avatarUrl });\r\n  }\r\n\r\n  static async upload(formData: FormData): Promise<AxiosResponse> {\r\n    return adminApi.post<AxiosResponse>(\"/upload\", formData, {\r\n      headers: { \"content-type\": \"multipart/form-data\" },\r\n    });\r\n  }\r\n}\r\n","import { Button } from \"@mui/material\";\r\nimport { User } from \"../../models/user\";\r\nimport AdminService from \"../Services/AdminService\";\r\nimport \"./users.sass\";\r\n\r\ninterface DeleteUserProps {\r\n  currentUser: User;\r\n  getUsers: () => Promise<void>;\r\n}\r\n\r\nconst DeleteUser = ({ currentUser, getUsers }: DeleteUserProps) => {\r\n  const btnStyles = {\r\n    margin: \"0rem 1rem\",\r\n    width: \"fit-content\",\r\n    backgroundColor: \"#534ED9\",\r\n    \":hover\": { backgroundColor: \"#7673D9\" },\r\n  };\r\n\r\n  const deleteUser = async () => {\r\n    await AdminService.delete(currentUser._id);\r\n    await getUsers();\r\n  };\r\n\r\n  return (\r\n    <Button variant=\"contained\" sx={btnStyles} onClick={deleteUser}>\r\n      Delete User\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default DeleteUser;\r\n","import { useState } from \"react\";\r\nimport { Button, Input } from \"@mui/material\";\r\nimport DeleteUser from \"./DeleteUser\";\r\nimport AdminService from \"../Services/AdminService\";\r\nimport { User } from \"../../models/user\";\r\nimport \"./editUser.sass\";\r\n\r\ninterface EditUserProps {\r\n  currentUser: User;\r\n  getUsers: () => Promise<void>;\r\n}\r\n\r\nconst EditUser = ({ currentUser, getUsers }: EditUserProps) => {\r\n  const [status, setStatus] = useState<string>(null);\r\n  const [firstName, setFirstName] = useState<string>();\r\n  const [lastName, setLastName] = useState<string>();\r\n  const [birthday, setBirthday] = useState<string>();\r\n  const [city, setCity] = useState<string>();\r\n  const [stack, setStack] = useState<string>();\r\n  const [position, setPosition] = useState<string>();\r\n  const [department, setDepartment] = useState<string>();\r\n  const [education, setEducation] = useState<string>();\r\n  const [skype, setSkype] = useState<string>();\r\n  const [phone, setPhone] = useState<number>();\r\n  const [description, setDescription] = useState<string>();\r\n  const [role, setRole] = useState<string>(\"member\");\r\n\r\n  const inputStyles = {\r\n    margin: \"0 0 1rem 0\",\r\n    \":after\": { borderBottom: \"2px solid #534ED9\" },\r\n  };\r\n  const btnStyles = {\r\n    margin: \"0rem auto 0rem auto\",\r\n    width: \"fit-content\",\r\n    backgroundColor: \"#534ED9\",\r\n    \":hover\": { backgroundColor: \"#7673D9\" },\r\n  };\r\n\r\n  const editUserData = async () => {\r\n    const res = await AdminService.edit(currentUser._id, {\r\n      firstName,\r\n      lastName,\r\n      city,\r\n      birthday,\r\n      stack,\r\n      position,\r\n      department,\r\n      education,\r\n      skype,\r\n      phone,\r\n      role,\r\n      description,\r\n    });\r\n    if (res.status === 200) {\r\n      setStatus(\"Success\");\r\n      setTimeout(() => setStatus(null), 2000);\r\n    }\r\n    await getUsers();\r\n  };\r\n\r\n  return (\r\n    <form className=\"editUser__form\">\r\n      <h3 className=\"editUser__form__title\">Edit User Data</h3>\r\n      <h3 className=\"admin__success\">{status ? status : null}</h3>\r\n      <div className=\"editUser__data\">\r\n        <div className=\"editUser__mainData\">\r\n          <h4 className=\"editUser__title\">Edit personal info</h4>\r\n          <Input\r\n            onChange={(e) => setFirstName(e.target.value)}\r\n            placeholder=\"First Name\"\r\n            type=\"text\"\r\n            sx={inputStyles}\r\n          />\r\n          <Input\r\n            onChange={(e) => setLastName(e.target.value)}\r\n            placeholder=\"Last Name\"\r\n            type=\"text\"\r\n            sx={inputStyles}\r\n          />\r\n          <Input\r\n            onChange={(e) => setCity(e.target.value)}\r\n            placeholder=\"City\"\r\n            type=\"text\"\r\n            sx={inputStyles}\r\n          />\r\n          <Input\r\n            onChange={(e) => setBirthday(e.target.value)}\r\n            placeholder=\"Age\"\r\n            type=\"date\"\r\n            sx={inputStyles}\r\n          />\r\n          <Input\r\n            onChange={(e) => setPhone(+e.target.value)}\r\n            placeholder=\"Phone\"\r\n            type=\"number\"\r\n            sx={inputStyles}\r\n          />\r\n          <Input\r\n            onChange={(e) => setRole(e.target.value)}\r\n            placeholder=\"Role\"\r\n            type=\"text\"\r\n            sx={inputStyles}\r\n          />\r\n        </div>\r\n        <div className=\"editUser__otherData\">\r\n          <h4 className=\"editUser__title\">Edit other info</h4>\r\n          <Input\r\n            onChange={(e) => setStack(e.target.value)}\r\n            multiline={true}\r\n            placeholder=\"Stack\"\r\n            type=\"text\"\r\n            sx={inputStyles}\r\n          />\r\n          <Input\r\n            onChange={(e) => setPosition(e.target.value)}\r\n            placeholder=\"Position\"\r\n            type=\"text\"\r\n            sx={inputStyles}\r\n          />\r\n          <Input\r\n            onChange={(e) => setDepartment(e.target.value)}\r\n            placeholder=\"Department\"\r\n            type=\"text\"\r\n            sx={inputStyles}\r\n          />\r\n          <Input\r\n            onChange={(e) => setEducation(e.target.value)}\r\n            multiline={true}\r\n            placeholder=\"Education\"\r\n            type=\"text\"\r\n            sx={inputStyles}\r\n          />\r\n          <Input\r\n            onChange={(e) => setSkype(e.target.value)}\r\n            placeholder=\"Skype\"\r\n            type=\"text\"\r\n            sx={inputStyles}\r\n          />\r\n          <Input\r\n            onChange={(e) => setDescription(e.target.value)}\r\n            placeholder=\"Description\"\r\n            type=\"text\"\r\n            multiline={true}\r\n            sx={inputStyles}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"editUser__btns\">\r\n        <Button onClick={editUserData} variant=\"contained\" sx={btnStyles}>\r\n          Save Changes\r\n        </Button>\r\n        <DeleteUser currentUser={currentUser} getUsers={getUsers} />\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default EditUser;\r\n","import { User } from \"../../models/user\";\r\nimport \"./currentUser.sass\";\r\n\r\ninterface CurrentUserProps {\r\n  currentUser: User;\r\n}\r\n\r\nconst CurrentUser = ({ currentUser }: CurrentUserProps) => {\r\n  return (\r\n    <div className=\"currentUser__box\">\r\n      <h3 className=\"currentUser__title\">Current User: </h3>\r\n      <ul className=\"currentUser__data__ul\">\r\n        <li className=\"currentUser__data__li\">\r\n          {currentUser.firstName && currentUser.lastName\r\n            ? `${currentUser.firstName} ${currentUser.lastName}`\r\n            : null}\r\n        </li>\r\n        <li className=\"currentUser__data__li\">\r\n          {currentUser.email ? `Email: ${currentUser.email}` : null}\r\n        </li>\r\n        <li className=\"currentUser__data__li\">\r\n          {currentUser.city ? `City: ${currentUser.city}` : null}\r\n        </li>\r\n        <li className=\"currentUser__data__li\">\r\n          {currentUser.birthday\r\n            ? `Birthday: ${currentUser.birthday.split(\"-\").reverse().join(\".\")}`\r\n            : null}\r\n        </li>\r\n        <li className=\"currentUser__data__li\">\r\n          {currentUser.department\r\n            ? `Department: ${currentUser.department}`\r\n            : null}\r\n        </li>\r\n        <li className=\"currentUser__data__li\">\r\n          {currentUser.skype ? `Skype: ${currentUser.skype}` : null}\r\n        </li>\r\n        <li className=\"currentUser__data__li\">\r\n          {currentUser.education ? `Education: ${currentUser.education}` : null}\r\n        </li>\r\n        <li className=\"currentUser__data__li\">\r\n          {currentUser.phone ? `Phone: ${currentUser.phone}` : null}\r\n        </li>\r\n        <li className=\"currentUser__data__li\">\r\n          {currentUser.role ? `Role: ${currentUser.role}` : null}\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CurrentUser;\r\n","import { useState, useEffect, useContext } from \"react\";\r\nimport { Context } from \"../../index\";\r\nimport { User } from \"../../models/user\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Avatar, Input } from \"@mui/material\";\r\nimport CurrentUser from \"./CurrentUser\";\r\nimport \"./users.sass\";\r\n\r\ninterface UsersProps {\r\n  users: User[];\r\n  setUser: any;\r\n}\r\n\r\nconst Users = ({ users, setUser }: UsersProps) => {\r\n  const { store } = useContext(Context);\r\n  const [allUsers, setAllUsers] = useState(users);\r\n  const [currentUser, setCurrentUser] = useState<User>(store.user);\r\n  const [search, setSearch] = useState<string>(\"\");\r\n\r\n  useEffect(() => {\r\n    setAllUsers(users);\r\n    return () => setAllUsers(null);\r\n  }, [users]);\r\n\r\n  const avatarStyles = {\r\n    width: \"40px\",\r\n    height: \"40px\",\r\n    margin: \"0 .8rem 0 0\",\r\n    backgroundColor: \"#534ED9\",\r\n    fontSize: \"50px\",\r\n  };\r\n\r\n  const inputStyles = {\r\n    margin: \"0 0 1rem 0\",\r\n    width: \"330px\",\r\n    backgroundColor: \"#fff\",\r\n    padding: \".5rem\",\r\n    borderRadius: \".3rem .3rem 0 0\",\r\n    \":after\": { borderBottom: \"2px solid #534ED9\" },\r\n  };\r\n\r\n  const filteredUsers = allUsers?.filter((user) => {\r\n    return (\r\n      (user.firstName + \" \" + user.lastName)\r\n        .toLowerCase()\r\n        .includes(search.toLowerCase()) ||\r\n      user.email.toLowerCase().includes(search.toLowerCase())\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className=\"admin__users\">\r\n      <Input\r\n        placeholder=\"Search by first name, last name, or email\"\r\n        type=\"search\"\r\n        sx={inputStyles}\r\n        onChange={(e) => setSearch(e.target.value)}\r\n      />\r\n      <CurrentUser currentUser={currentUser} />\r\n      <ul className=\"admin__users__ul\">\r\n        {filteredUsers?.map((user) => {\r\n          return (\r\n            <li\r\n              className=\"admin__users__li\"\r\n              key={user._id}\r\n              onClick={() => {\r\n                setUser(user);\r\n                setCurrentUser(user);\r\n              }}\r\n            >\r\n              <Link to={`/profile/${user._id}`}>\r\n                <Avatar src={user.avatar} sx={avatarStyles}></Avatar>\r\n              </Link>\r\n              <ul className=\"admin__users__data__ul\">\r\n                <li className=\"admin__users__data__li\">\r\n                  {user.firstName && user.lastName\r\n                    ? `${user.firstName} ${user.lastName}`\r\n                    : null}\r\n                </li>\r\n                <li className=\"admin__users__data__li\">\r\n                  {user.email ? `Email: ${user.email}` : null}\r\n                </li>\r\n                <li className=\"admin__users__data__li\">\r\n                  {user.city ? `City: ${user.city}` : null}\r\n                </li>\r\n                <li className=\"admin__users__data__li\">\r\n                  {user.birthday\r\n                    ? `Birthday: ${user.birthday\r\n                        .split(\"-\")\r\n                        .reverse()\r\n                        .join(\".\")}`\r\n                    : null}\r\n                </li>\r\n              </ul>\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","import { useState } from \"react\";\r\nimport { Input, Button } from \"@mui/material\";\r\nimport { User } from \"../../models/user\";\r\nimport AdminService from \"../Services/AdminService\";\r\nimport \"./changeUserPassword.sass\";\r\n\r\ninterface ChangeUserPasswordProps {\r\n  currentUser: User;\r\n  getUsers: () => Promise<void>;\r\n}\r\n\r\nconst ChangeUserPassword = ({\r\n  currentUser,\r\n  getUsers,\r\n}: ChangeUserPasswordProps) => {\r\n  const [newPassword, setNewPassword] = useState<string>(\"\");\r\n  const [status, setStatus] = useState<string>(null);\r\n\r\n  const inputStyles = {\r\n    margin: \"1rem 0 2rem 0\",\r\n    width: \"400px\",\r\n    \":after\": { borderBottom: \"2px solid #534ED9\" },\r\n  };\r\n  const btnStyles = {\r\n    margin: \"0 auto\",\r\n    width: \"fit-content\",\r\n    backgroundColor: \"#534ED9\",\r\n    \":hover\": { backgroundColor: \"#7673D9\" },\r\n  };\r\n\r\n  const changePass = async () => {\r\n    const res = await AdminService.changePassword(currentUser._id, newPassword);\r\n    if (res.status === 200) {\r\n      setStatus(\"Success\");\r\n      setTimeout(() => setStatus(null), 2000);\r\n    }\r\n    await getUsers();\r\n    setNewPassword(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"changeUserPassword__container\">\r\n      <form className=\"changeUserPassword__form\">\r\n        <h3 className=\"changeUserPassword__title\">Change User Password</h3>\r\n        <h3 className=\"admin__success\">{status ? status : null}</h3>\r\n        <h4>Enter a new user password</h4>\r\n        <Input\r\n          value={newPassword}\r\n          autoComplete=\"on\"\r\n          placeholder=\"New Password\"\r\n          required\r\n          type=\"password\"\r\n          sx={inputStyles}\r\n          onChange={(e) => setNewPassword(e.target.value)}\r\n        />\r\n        <Button disabled={newPassword === ''} variant=\"contained\" sx={btnStyles} onClick={changePass}>\r\n          Change Password\r\n        </Button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChangeUserPassword;\r\n","import { useState } from \"react\";\r\nimport { Avatar, Button, Input } from \"@mui/material\";\r\nimport AdminService from \"../Services/AdminService\";\r\nimport { User } from \"../../models/user\";\r\nimport \"./changeUserAvatar.sass\";\r\n\r\ninterface ChangeUserAvatarProps {\r\n  currentUser: User;\r\n  getUsers: () => Promise<void>;\r\n}\r\n\r\nconst ChangeUserAvatar = ({ currentUser, getUsers }: ChangeUserAvatarProps) => {\r\n  const [img, setImg] = useState<any>();\r\n  const [file, setFile] = useState<any>();\r\n  const [status, setStatus] = useState<string>(null);\r\n\r\n  const imageUpload = async (e: any) => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append(\"image\", file);\r\n    const res = await AdminService.upload(formData);\r\n    await AdminService.changeAvatar(currentUser._id, res.data.path).then(\r\n      (res) => {\r\n        if (res.status === 200) {\r\n          setStatus(\"Success\");\r\n          setTimeout(() => setStatus(null), 2000);\r\n        }\r\n      }\r\n    );\r\n    await getUsers();\r\n    setImg(null);\r\n    setFile(null);\r\n  };\r\n\r\n  const imageChange = (e: any) => {\r\n    let reader = new FileReader();\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      reader.onloadend = () => {\r\n        setImg(reader.result);\r\n      };\r\n      reader.readAsDataURL(file);\r\n      setFile(file);\r\n    } else {\r\n      setImg(null);\r\n      setFile(null);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"changeUserAvatar__container\">\r\n      <h3 className=\"changeUserAvatar__title\">Change User Avatar</h3>\r\n      <h3 className=\"admin__success\">{status ? status : null}</h3>\r\n      <form className=\"changeUserAvatar__form\" encType=\"multipart/form-data\">\r\n        <Input\r\n          sx={{\r\n            \":after\": { borderBottom: \"2px solid #534ED9\" },\r\n          }}\r\n          type=\"file\"\r\n          onChange={(e) => {\r\n            imageChange(e);\r\n          }}\r\n        />\r\n        <Button\r\n          disabled={!img}\r\n          variant=\"contained\"\r\n          sx={{\r\n            backgroundColor: \"#534ED9\",\r\n            \":hover\": {\r\n              backgroundColor: \"#7673D9\",\r\n            },\r\n          }}\r\n          onClick={(e) => imageUpload(e)}\r\n        >\r\n          Upload\r\n        </Button>\r\n      </form>\r\n      <div className=\"changeUserAvatar__avatar__preview\">\r\n        <Avatar\r\n          src={img}\r\n          sx={{\r\n            width: \"200px\",\r\n            borderRadius: \"0\",\r\n            height: \"200px\",\r\n            margin: \"0 1rem 0 0\",\r\n            backgroundColor: \"#534ED9\",\r\n            fontSize: \"50px\",\r\n          }}\r\n        />\r\n        <Avatar\r\n          src={img}\r\n          sx={{\r\n            width: \"200px\",\r\n            height: \"200px\",\r\n            margin: \"0 1rem 0 0\",\r\n            backgroundColor: \"#534ED9\",\r\n            fontSize: \"50px\",\r\n          }}\r\n        />\r\n        <Avatar\r\n          src={img}\r\n          sx={{\r\n            width: \"100px\",\r\n            height: \"100px\",\r\n            margin: \"0 1rem 0 0\",\r\n            backgroundColor: \"#534ED9\",\r\n            fontSize: \"50px\",\r\n          }}\r\n        />\r\n        <Avatar\r\n          src={img}\r\n          sx={{\r\n            width: \"50px\",\r\n            height: \"50px\",\r\n            margin: \"0 1rem 0 0\",\r\n            backgroundColor: \"#534ED9\",\r\n            fontSize: \"50px\",\r\n          }}\r\n        />\r\n        <Avatar\r\n          src={img}\r\n          sx={{\r\n            width: \"30px\",\r\n            height: \"30px\",\r\n            margin: \"0 1rem 0 0\",\r\n            backgroundColor: \"#534ED9\",\r\n            fontSize: \"50px\",\r\n          }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChangeUserAvatar;\r\n","import { useState } from \"react\";\r\nimport { Button, Input, Switch } from \"@mui/material\";\r\nimport AdminService from \"../Services/AdminService\";\r\nimport \"./registration.sass\";\r\n\r\ninterface RegistrationProps {\r\n  getUsers: () => Promise<void>;\r\n}\r\n\r\nconst Registration = ({ getUsers }: RegistrationProps) => {\r\n  const [status, setStatus] = useState<string>(null);\r\n  const [email, setEmail] = useState<string>(\"\");\r\n  const [username, setUsername] = useState<string>(\"\");\r\n  const [password, setPassword] = useState<string>(\"\");\r\n  const [firstName, setFirstName] = useState<string>(\"\");\r\n  const [lastName, setLastName] = useState<string>(\"\");\r\n  const [role, setRole] = useState<string>(\"member\");\r\n\r\n  const inputStyles = {\r\n    margin: \"1.5rem 1.3rem 0.8rem 1.3rem\",\r\n    \":after\": { borderBottom: \"2px solid #534ED9\" },\r\n  };\r\n  const btnStyles = {\r\n    margin: \"2rem 1.3rem 2rem 1.3rem\",\r\n    backgroundColor: \"#534ED9\",\r\n    \":hover\": { backgroundColor: \"#7673D9\" },\r\n  };\r\n\r\n  const registration = async () => {\r\n    const res = await AdminService.registration(\r\n      username,\r\n      email,\r\n      password,\r\n      firstName,\r\n      lastName,\r\n      role\r\n    );\r\n    if (res.status === 200) {\r\n      setStatus(\"Success\");\r\n      setTimeout(() => setStatus(null), 2000);\r\n    }\r\n    await getUsers();\r\n    setUsername(\"\");\r\n    setEmail(\"\");\r\n    setPassword(\"\");\r\n    setFirstName(\"\");\r\n    setLastName(\"\");\r\n    setRole(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"admin__registration__box\">\r\n      <h3 className=\"admin__registration__title\">New User Registration</h3>\r\n      <h3 className=\"admin__success\">{status ? status : null}</h3>\r\n      <form className=\"admin__registration__form\">\r\n        <Input\r\n          value={email}\r\n          placeholder=\"Email\"\r\n          type=\"text\"\r\n          sx={inputStyles}\r\n          onChange={(e) => {\r\n            setEmail(e.target.value);\r\n          }}\r\n        />\r\n        <Input\r\n          value={username}\r\n          placeholder=\"Username\"\r\n          type=\"text\"\r\n          sx={inputStyles}\r\n          onChange={(e) => {\r\n            setUsername(e.target.value);\r\n          }}\r\n        />\r\n        <Input\r\n          value={firstName}\r\n          placeholder=\"First Name\"\r\n          type=\"text\"\r\n          sx={inputStyles}\r\n          onChange={(e) => {\r\n            setFirstName(e.target.value);\r\n          }}\r\n        />\r\n        <Input\r\n          value={lastName}\r\n          placeholder=\"Last Name\"\r\n          type=\"text\"\r\n          sx={inputStyles}\r\n          onChange={(e) => {\r\n            setLastName(e.target.value);\r\n          }}\r\n        />\r\n        <Input\r\n          value={password}\r\n          autoComplete=\"on\"\r\n          placeholder=\"Password\"\r\n          type=\"password\"\r\n          sx={inputStyles}\r\n          onChange={(e) => {\r\n            setPassword(e.target.value);\r\n          }}\r\n        />\r\n        <div>\r\n          <Switch\r\n            inputProps={{ \"aria-label\": \"controlled\" }}\r\n            onChange={(e) => {\r\n              if (e.target.checked === true) {\r\n                setRole(\"admin\");\r\n              } else {\r\n                setRole(\"member\");\r\n              }\r\n            }}\r\n          />\r\n          Admin\r\n        </div>\r\n        <Button\r\n          disabled={\r\n            username === \"\" ||\r\n            email === \"\" ||\r\n            password === \"\" ||\r\n            firstName === \"\" ||\r\n            lastName === \"\"\r\n          }\r\n          variant=\"contained\"\r\n          sx={btnStyles}\r\n          onClick={registration}\r\n        >\r\n          Create User\r\n        </Button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Registration;\r\n","import { useState, useEffect, useContext } from \"react\";\r\nimport { Context } from \"../index\";\r\nimport { User } from \"../models/user\";\r\nimport UserService from \"../services/UserService\";\r\nimport EditUser from \"./Users/EditUser\";\r\nimport Users from \"./Users/Users\";\r\nimport ChangeUserPassword from \"./Users/ChangeUserPassword\";\r\nimport ChangeUserAvatar from \"./Users/ChangeUserAvatar\";\r\nimport Registration from \"./Registration/Registration\";\r\nimport \"./admin.sass\";\r\n\r\nconst Admin = () => {\r\n  const { store } = useContext(Context);\r\n  const [users, setUsers] = useState<User[]>([]);\r\n  const [currentUser, setCurrentUser] = useState<User>(store.user);\r\n\r\n  const getUsers = async() => {\r\n    const res = await UserService.fetchUsers();\r\n    return setUsers(res.data);\r\n  }\r\n\r\n  useEffect(() => {\r\n    getUsers();\r\n    return () => setUsers(null);\r\n  }, []);\r\n\r\n  const getCurrentUser = (user: User) => {\r\n    return setCurrentUser(user);\r\n  };\r\n\r\n  return (\r\n    <div className=\"admin__box\">\r\n      <Users users={users} setUser={getCurrentUser} />\r\n      <div className=\"admin__editUser\">\r\n        {currentUser === store.user ||\r\n        currentUser._id === store.user.id ? null : (\r\n          <EditUser currentUser={currentUser} getUsers={getUsers}/>\r\n        )}\r\n        {currentUser === store.user ||\r\n        currentUser._id === store.user.id ? null : (\r\n          <ChangeUserPassword currentUser={currentUser} getUsers={getUsers}/>\r\n        )}\r\n        {currentUser === store.user ||\r\n        currentUser._id === store.user.id ? null : (\r\n          <ChangeUserAvatar currentUser={currentUser} getUsers={getUsers}/>\r\n        )}\r\n      </div>\r\n      <Registration getUsers={getUsers}/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Admin;\r\n","import { Navigate, useLocation } from \"react-router-dom\";\r\n\r\nconst RequireAuth = ({ children }: { children: JSX.Element }) => {\r\n  const location = useLocation();\r\n\r\n  if (!localStorage.getItem(\"token\")) {\r\n    return <Navigate to=\"/login\" state={{ from: location.pathname }} />;\r\n  }\r\n\r\n  return children;\r\n};\r\n\r\nexport default RequireAuth;\r\n","import { Navigate, useLocation } from \"react-router-dom\";\r\n\r\nconst AfterAuth = ({ children }: { children: JSX.Element }) => {\r\n  const location = useLocation();\r\n\r\n  if (localStorage.getItem(\"token\")) {\r\n    return <Navigate to=\"/board\" state={{ from: location.pathname }} />;\r\n  }\r\n\r\n  return children;\r\n};\r\n\r\nexport default AfterAuth;\r\n","import { FC } from \"react\";\r\n\r\nconst StatusPage: FC = () => {\r\n  return (\r\n    <div className=\"not__found\">\r\n      <span>404</span>\r\n      <span>Not Found</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatusPage;\r\n","import { useContext } from \"react\";\r\nimport { Context } from \"../index\";\r\nimport StatusPage from \"../Pages/404/StatusPage\";\r\n\r\nconst RequireAdminAuth = ({ children }: { children: JSX.Element }) => {\r\n  const { store } = useContext(Context);\r\n\r\n  if (!store.isAdmin) {\r\n    return <StatusPage />;\r\n  }\r\n  return children;\r\n};\r\n\r\nexport default RequireAdminAuth;\r\n","import { useState } from \"react\";\r\nimport { User } from \"../../models/user\";\r\nimport { Autocomplete, TextField, Button } from \"@mui/material\";\r\nimport \"./userFilter.sass\";\r\n\r\ninterface UsersProps {\r\n  users?: User[];\r\n  getUsersWithQuery?: any;\r\n  getUsersWithoutQuery?: any;\r\n}\r\n\r\nconst UserFilter = ({\r\n  users,\r\n  getUsersWithQuery,\r\n  getUsersWithoutQuery,\r\n}: UsersProps) => {\r\n  const [city, setCity] = useState<string>(\"\");\r\n  const [oldCity, setOldCity] = useState<string>(\"\");\r\n  const [department, setDepartment] = useState<string>();\r\n  const [position, setPosition] = useState<string>();\r\n  const [stack, setStack] = useState<string>();\r\n  let params = { city, department, position, stack };\r\n  if (params.city === \"\") {\r\n    params = { city: null, department, position, stack };\r\n  }\r\n  const autocompleteStyles = {\r\n    margin: \"0 0 1rem 0\",\r\n    width: \"200px\",\r\n    \"& .MuiOutlinedInput-root\": {\r\n      \"&.Mui-focused fieldset\": {\r\n        borderColor: \"#534ED9\",\r\n      },\r\n    },\r\n    \"& label.Mui-focused\": {\r\n      color: \"#534ED9\",\r\n    },\r\n  };\r\n\r\n  const btnStyles = {\r\n    margin: \"1rem 0 0 0\",\r\n    width: \"100%\",\r\n    backgroundColor: \"#534ED9\",\r\n    \":hover\": { backgroundColor: \"#7673D9\" },\r\n  };\r\n\r\n  let cities: string[] = [];\r\n  users?.map((user) => cities.push(user.city));\r\n  const usersCities = Array.from(new Set(cities));\r\n\r\n  return (\r\n    <form className=\"filter__form\">\r\n      <Autocomplete\r\n        value={oldCity}\r\n        inputValue={city}\r\n        onInputChange={(event, newInputValue) => {\r\n          setCity(newInputValue);\r\n        }}\r\n        onChange={(event, newCity) => {\r\n          setOldCity(newCity);\r\n        }}\r\n        id=\"controllable-states-demo\"\r\n        options={usersCities.map((city) => city)}\r\n        sx={autocompleteStyles}\r\n        renderInput={(params) => <TextField {...params} label=\"City\" />}\r\n      />\r\n      <TextField\r\n        label=\"Department\"\r\n        sx={autocompleteStyles}\r\n        onChange={(e) => setDepartment(e.target.value)}\r\n      />\r\n      <TextField\r\n        label=\"Position\"\r\n        sx={autocompleteStyles}\r\n        onChange={(e) => setPosition(e.target.value)}\r\n      />\r\n      <TextField\r\n        label=\"Stack\"\r\n        sx={autocompleteStyles}\r\n        onChange={(e) => setStack(e.target.value)}\r\n      />\r\n      <Button\r\n        variant=\"contained\"\r\n        sx={btnStyles}\r\n        onClick={() => {\r\n          setCity(\"\");\r\n          setOldCity(\"\");\r\n          setDepartment(null);\r\n          setPosition(null);\r\n          setStack(null);\r\n          getUsersWithoutQuery();\r\n        }}\r\n      >\r\n        Clear\r\n      </Button>\r\n      <Button\r\n        variant=\"contained\"\r\n        sx={btnStyles}\r\n        onClick={() => getUsersWithQuery(params)}\r\n      >\r\n        Confirm\r\n      </Button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default UserFilter;\r\n","import { User } from \"../../models/user\";\r\nimport { Avatar } from \"@mui/material\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./allUsers.sass\";\r\n\r\ninterface AllUsersProps {\r\n  filteredUsers: User[];\r\n}\r\n\r\nconst AllUsers = ({ filteredUsers }: AllUsersProps) => {\r\n  const avatarStyles = {\r\n    width: \"100px\",\r\n    height: \"100px\",\r\n    margin: \"0 .8rem 0 0\",\r\n    backgroundColor: \"#534ED9\",\r\n    fontSize: \"50px\",\r\n  };\r\n\r\n  return (\r\n    <ul className=\"users__ul\">\r\n      {filteredUsers\r\n        ? filteredUsers.map((user) => (\r\n            <li className=\"users__li\" key={user._id}>\r\n              <Link to={`/profile/${user._id}`}>\r\n                <Avatar src={user.avatar} sx={avatarStyles}></Avatar>\r\n              </Link>\r\n              <ul className=\"users__data__ul\">\r\n                <li className=\"users__data__li\">\r\n                  {user.firstName && user.lastName\r\n                    ? `${user.firstName} ${user.lastName}`\r\n                    : null}\r\n                </li>\r\n                <li className=\"users__data__li\">\r\n                  {user.email ? `Email: ${user.email}` : null}\r\n                </li>\r\n                <li className=\"users__data__li\">\r\n                  {user.city ? `City: ${user.city}` : null}\r\n                </li>\r\n                <li className=\"users__data__li\">\r\n                  {user.birthday\r\n                    ? `Birthday: ${user.birthday\r\n                        .split(\"-\")\r\n                        .reverse()\r\n                        .join(\".\")}`\r\n                    : null}\r\n                </li>\r\n              </ul>\r\n            </li>\r\n          ))\r\n        : null}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default AllUsers;\r\n","import { FC, useState, useEffect, useContext } from \"react\";\r\nimport { Context } from \"../../index\";\r\nimport { User } from \"../../models/user\";\r\nimport { Input } from \"@mui/material\";\r\nimport UserFilter from \"../../components/UserFilter/UserFilter\";\r\nimport AllUsers from \"./AllUsers\";\r\nimport FetchMore from \"../FetchMore/FetchMore\";\r\nimport \"./allUsers.sass\";\r\n\r\nconst Users: FC = () => {\r\n  const { store } = useContext(Context);\r\n  const [users, setUsers] = useState<User[]>([]);\r\n  const [search, setSearch] = useState<string>(\"\");\r\n  const [totalUsers, setTotalUsers] = useState<number>(0);\r\n  let [limit, setLimit] = useState<number>(10);\r\n\r\n  const inputStyles = {\r\n    margin: \"0 0 2rem 0\",\r\n    width: \"fit-content\",\r\n    backgroundColor: \"#fff\",\r\n    padding: \".5rem\",\r\n    borderRadius: \".3rem .3rem 0 0\",\r\n    \":after\": { borderBottom: \"2px solid #534ED9\" },\r\n  };\r\n\r\n  const getUsersWithQuery = async (params: any) => {\r\n    await store.getAllUsers(params, limit);\r\n    setUsers(store.allUsers);\r\n    return () => setUsers(null);\r\n  };\r\n\r\n  const getUsersWithoutQuery = async () => {\r\n    await store.getAllUsers(\"\", limit);\r\n    setUsers(store.allUsers);\r\n    return () => setUsers(null);\r\n  };\r\n\r\n  const fetchMore = () => {\r\n    return setLimit(limit + 10);\r\n  };\r\n\r\n  useEffect(() => {\r\n    store.getAllUsers(\"\", limit).then(() => {\r\n      setUsers(store.allUsers);\r\n      setTotalUsers(+store.usersLength);\r\n    });\r\n    return () => setUsers(null);\r\n  }, [store, limit]);\r\n\r\n  const filteredUsers = users?.filter((user) => {\r\n    return (\r\n      (user.firstName + \" \" + user.lastName)\r\n        .toLowerCase()\r\n        .includes(search.toLowerCase()) ||\r\n      user.email.toLowerCase().includes(search.toLowerCase())\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className=\"users__container\">\r\n      <h2 className=\"users__title\">All Users</h2>\r\n      <Input\r\n        placeholder=\"Search by first name, last name, or email\"\r\n        type=\"search\"\r\n        sx={inputStyles}\r\n        onChange={(e) => setSearch(e.target.value)}\r\n      />\r\n      <div className=\"users__box\">\r\n        <AllUsers filteredUsers={filteredUsers} />\r\n        <div className=\"users__filter\">\r\n          <UserFilter\r\n            users={users}\r\n            getUsersWithQuery={getUsersWithQuery}\r\n            getUsersWithoutQuery={getUsersWithoutQuery}\r\n          />\r\n        </div>\r\n      </div>\r\n      {users?.length >= totalUsers ? null : <FetchMore fetchMore={fetchMore} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","import { FC } from \"react\";\r\nimport Users from \"../../components/AllUsers/Users\";\r\n\r\nconst UsersPage: FC = () => {\r\n  return <Users />;\r\n};\r\n\r\nexport default UsersPage;\r\n","import { Avatar } from \"@mui/material\";\r\nimport \"./changeAvatar.sass\";\r\n\r\ninterface ChangeAvatarPreviewProps {\r\n  img: any;\r\n}\r\n\r\nconst ChangeAvatarPreview = ({ img }: ChangeAvatarPreviewProps) => {\r\n  return (\r\n    <div className=\"upload__avatar__preview\">\r\n      <Avatar\r\n        src={img}\r\n        sx={{\r\n          width: \"200px\",\r\n          borderRadius: \"0\",\r\n          height: \"200px\",\r\n          margin: \"0 1rem 0 0\",\r\n          backgroundColor: \"#534ED9\",\r\n          fontSize: \"50px\",\r\n        }}\r\n      />\r\n      <Avatar\r\n        src={img}\r\n        sx={{\r\n          width: \"200px\",\r\n          height: \"200px\",\r\n          margin: \"0 1rem 0 0\",\r\n          backgroundColor: \"#534ED9\",\r\n          fontSize: \"50px\",\r\n        }}\r\n      />\r\n      <Avatar\r\n        src={img}\r\n        sx={{\r\n          width: \"100px\",\r\n          height: \"100px\",\r\n          margin: \"0 1rem 0 0\",\r\n          backgroundColor: \"#534ED9\",\r\n          fontSize: \"50px\",\r\n        }}\r\n      />\r\n      <Avatar\r\n        src={img}\r\n        sx={{\r\n          width: \"50px\",\r\n          height: \"50px\",\r\n          margin: \"0 1rem 0 0\",\r\n          backgroundColor: \"#534ED9\",\r\n          fontSize: \"50px\",\r\n        }}\r\n      />\r\n      <Avatar\r\n        src={img}\r\n        sx={{\r\n          width: \"30px\",\r\n          height: \"30px\",\r\n          margin: \"0 1rem 0 0\",\r\n          backgroundColor: \"#534ED9\",\r\n          fontSize: \"50px\",\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChangeAvatarPreview;\r\n","import { ChangeEvent, MouseEvent } from \"react\";\r\nimport { Button, Input } from \"@mui/material\";\r\nimport \"./changeAvatar.sass\";\r\n\r\ninterface ChangeAvatarFormProps {\r\n  imageChange: (event: ChangeEvent) => void;\r\n  imageUpload: (event: MouseEvent) => Promise<void>;\r\n}\r\n\r\nconst ChangeAvatarForm = ({\r\n  imageChange,\r\n  imageUpload,\r\n}: ChangeAvatarFormProps) => {\r\n  return (\r\n    <form className=\"upload__form\">\r\n      <Input\r\n        sx={{\r\n          \":after\": { borderBottom: \"2px solid #534ED9\" },\r\n        }}\r\n        type=\"file\"\r\n        onChange={(event) => {\r\n          imageChange(event);\r\n        }}\r\n      />\r\n      <Button\r\n        variant=\"contained\"\r\n        sx={{\r\n          backgroundColor: \"#534ED9\",\r\n          \":hover\": {\r\n            backgroundColor: \"#7673D9\",\r\n          },\r\n        }}\r\n        onClick={(event) => imageUpload(event)}\r\n      >\r\n        Upload\r\n      </Button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ChangeAvatarForm;\r\n","import { FC, useState, useContext } from \"react\";\r\nimport { Context } from \"../../index\";\r\nimport api from \"../../http/axios\";\r\nimport ChangeAvatarPreview from \"./ChangeAvatarPreview\";\r\nimport ChangeAvatarForm from \"./ChangeAvatarForm\";\r\nimport \"./changeAvatar.sass\";\r\n\r\nconst ChangeAvatar: FC = () => {\r\n  const { store } = useContext(Context);\r\n  const [img, setImg] = useState<any>();\r\n  const [file, setFile] = useState<any>();\r\n\r\n  const imageChange = (event: any) => {\r\n    let reader = new FileReader();\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      reader.onloadend = () => {\r\n        setImg(reader.result);\r\n      };\r\n      reader.readAsDataURL(file);\r\n      setFile(file);\r\n    } else {\r\n      setImg(null);\r\n      setFile(null);\r\n    }\r\n  };\r\n\r\n  const imageUpload = async (e: any) => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append(\"image\", file);\r\n    await api.post(\"/avatar\", formData, {\r\n      headers: {\r\n        \"content-type\": \"multipart/form-data\",\r\n      },\r\n    });\r\n    store.checkAuth();\r\n  };\r\n\r\n  let imgPreview = img;\r\n\r\n  if (img) {\r\n    imgPreview = <img src={img} alt=\"img\" className=\"avatar__preview\" />;\r\n  } else {\r\n    imgPreview = null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"upload__container\">\r\n      <h2 className=\"upload__title\">Change Avatar</h2>\r\n      <ChangeAvatarForm imageChange={imageChange} imageUpload={imageUpload} />\r\n      <ChangeAvatarPreview img={img} />\r\n      <div className=\"upload__view\">{imgPreview}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChangeAvatar;\r\n","import { FC } from \"react\";\r\nimport ChangeAvatar from \"../../components/ChangeAvatarForm/ChangeAvatar\";\r\n\r\nconst ChangeAvatarPage: FC = () => {\r\n  return <ChangeAvatar />;\r\n};\r\n\r\nexport default ChangeAvatarPage;\r\n","import api from \"../http/axios\";\r\nimport { AxiosResponse } from \"axios\";\r\n\r\nexport default class MessagesService {\r\n  static message = (\r\n    conversationId: string,\r\n    sender: string,\r\n    text: string\r\n  ): Promise<AxiosResponse> => {\r\n    return api.post(\"/messenger/message\", { conversationId, sender, text });\r\n  };\r\n\r\n  static getMessages = (conversationId: string): Promise<AxiosResponse> => {\r\n    return api.get(`/messenger/message/${conversationId}`);\r\n  };\r\n}\r\n","import { useContext } from \"react\";\r\nimport { Context } from \"../../index\";\r\nimport { User } from \"../../models/user\";\r\nimport { Avatar } from \"@mui/material\";\r\nimport \"./conversation.sass\";\r\n\r\ninterface ConversationProps {\r\n  conversation?: User[];\r\n}\r\n\r\nconst Conversation = ({ conversation }: ConversationProps) => {\r\n  const { store } = useContext(Context);\r\n  const avatarStyles = {\r\n    width: \"40px\",\r\n    height: \"40px\",\r\n    margin: \"0 .5rem 0 0\",\r\n    backgroundColor: \"#534ED9\",\r\n  };\r\n\r\n  if (conversation[1]._id !== store.user.id) {\r\n    return (\r\n      <div className=\"conversation\">\r\n        <div className=\"conversation__users\" key={conversation[1].email}>\r\n          <Avatar src={conversation[1].avatar} sx={avatarStyles}></Avatar>\r\n          {conversation[1].firstName} {conversation[1].lastName}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div className=\"conversation\">\r\n      <div className=\"conversation__users\" key={conversation[0].email}>\r\n        <Avatar src={conversation[0].avatar} sx={avatarStyles}></Avatar>\r\n        {conversation[0].firstName} {conversation[0].lastName}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Conversation;\r\n","import { Avatar } from \"@mui/material\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Moment from \"react-moment\";\r\nimport \"./message.sass\";\r\n\r\ninterface MessageProps {\r\n  message: any;\r\n  own?: boolean;\r\n}\r\n\r\nconst Message = ({ message, own }: MessageProps) => {\r\n  const avatarStyles = {\r\n    width: \"40px\",\r\n    height: \"40px\",\r\n    margin: \"0 .5rem 0 0\",\r\n    backgroundColor: \"#534ED9\",\r\n  };\r\n  return (\r\n    <div className={own ? \"message__content own\" : \"message__content\"}>\r\n      <Link to={`/profile/${message.sender._id}`}>\r\n        <Avatar src={message.sender.avatar} sx={avatarStyles}></Avatar>\r\n      </Link>\r\n      <span className=\"message__text\">\r\n        <div className=\"message__text__info\">\r\n          <span>{message.sender.firstName}</span>\r\n          <Moment className=\"time\" format=\"HH:mm\">\r\n            {message.date}\r\n          </Moment>\r\n        </div>\r\n        <span>{message.text}</span>\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import { FC, useState, useEffect, useContext, useRef } from \"react\";\r\nimport { Context } from \"../../index\";\r\nimport { Input, Button } from \"@mui/material\";\r\nimport { io } from \"socket.io-client\";\r\nimport ConversationService from \"../../services/ConverstionService\";\r\nimport MessagesService from \"../../services/MessageService\";\r\nimport Conversation from \"../../components/Conversation/Conversation\";\r\nimport Message from \"../../components/Message/Message\";\r\nimport \"./messenger.sass\";\r\n\r\nconst Messenger: FC = () => {\r\n  const { store } = useContext(Context);\r\n  const [fromFriend, setFromFriend] = useState<boolean>(false);\r\n  const [conversations, setConversations] = useState([]);\r\n  const [newMessage, setNewMessage] = useState<string>(\"\");\r\n  const [currentUser, setCurrentUser] = useState(store.user);\r\n  const [currentChat, setCurrentChat] = useState(null);\r\n  const [arrivalMessage, setArrivalMessage] = useState(null);\r\n  const [messages, setMessages] = useState([]);\r\n  const scrollRef = useRef<any>();\r\n  const socket = useRef(null);\r\n\r\n  useEffect(() => {\r\n    socket.current = io(\"ws://localhost:3020\");\r\n    socket.current.on(\"getMessage\", (data: any) => {\r\n      setArrivalMessage({\r\n        sender: data.sender,\r\n        text: data.text,\r\n      });\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    arrivalMessage &&\r\n      currentChat?.members.includes(arrivalMessage.sender) &&\r\n      setMessages((prev) => [...prev, arrivalMessage]);\r\n  }, [arrivalMessage, currentChat]);\r\n\r\n  useEffect(() => {\r\n    socket.current.emit(\"addUser\", store.user.id);\r\n  }, [store.user.id, currentChat]);\r\n\r\n  useEffect(() => {\r\n    ConversationService.getConversation(store.user.id).then((res) =>\r\n      setConversations(res.data)\r\n    );\r\n    return () => setConversations(null);\r\n  }, [store.user.id]);\r\n\r\n  useEffect(() => {\r\n    scrollRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  }, [messages, arrivalMessage, newMessage]);\r\n\r\n  useEffect(() => {\r\n    const getMessages = async () => {\r\n      if (currentChat) {\r\n        await MessagesService.getMessages(currentChat._id).then((res) => {\r\n          setMessages(res.data);\r\n        });\r\n      }\r\n      return;\r\n    };\r\n    getMessages();\r\n    if (currentUser.messagesFromFriend) {\r\n      let privateMessage = currentUser.friends.find(\r\n        (friend: any) => friend === store.user.id\r\n      );\r\n      setFromFriend(privateMessage === store.user.id);\r\n    }\r\n    if (!currentUser.messagesFromFriend) {\r\n      setFromFriend(true);\r\n    }\r\n  }, [\r\n    currentChat,\r\n    currentUser.friends,\r\n    store.user.id,\r\n    currentUser.messagesFromFriend,\r\n    arrivalMessage,\r\n  ]);\r\n\r\n  const sendMessage = async () => {\r\n    const res = await MessagesService.message(\r\n      currentChat._id,\r\n      store.user.id,\r\n      newMessage\r\n    );\r\n    await socket.current.emit(\"sendMessage\", {\r\n      sender: store.user,\r\n      receiverId: currentUser._id,\r\n      text: newMessage,\r\n    });\r\n    setMessages([...messages, res.data]);\r\n    setNewMessage(\"\");\r\n  };\r\n\r\n  const deleteConversation = async () => {\r\n    await ConversationService.delete(currentChat._id);\r\n    await ConversationService.getConversation(store.user.id).then((res) =>\r\n      setConversations(res.data)\r\n    );\r\n    setCurrentChat(null);\r\n  };\r\n\r\n  const inputStyles = {\r\n    margin: \"1rem 1rem\",\r\n    width: \"80%\",\r\n    \":after\": { borderBottom: \"2px solid #534ED9\" },\r\n  };\r\n  const btnStyles = {\r\n    margin: \"0 1rem 0 0\",\r\n    fontSize: \".7rem\",\r\n    backgroundColor: \"#534ED9\",\r\n    \":hover\": { backgroundColor: \"#7673D9\" },\r\n  };\r\n\r\n  return (\r\n    <div className=\"messenger__box\">\r\n      <div className=\"messenger__conversations\">\r\n        {conversations ? (\r\n          conversations.map((conversation) => {\r\n            return (\r\n              <div\r\n                key={conversation._id}\r\n                onClick={() => {\r\n                  setCurrentChat(conversation);\r\n                  setCurrentUser(\r\n                    conversation.members.find(\r\n                      (member: any) => member._id !== store.user.id\r\n                    )\r\n                  );\r\n                }}\r\n              >\r\n                <Conversation conversation={conversation.members} />\r\n              </div>\r\n            );\r\n          })\r\n        ) : (\r\n          <div className=\"messenger__conversations\"></div>\r\n        )}\r\n      </div>\r\n      <div className=\"messenger__chat__column\">\r\n        {currentChat ? (\r\n          <>\r\n            <div className=\"messenger__chat__user\">\r\n              <h3>\r\n                {currentUser.firstName} {currentUser.lastName}\r\n              </h3>\r\n              <Button\r\n                sx={btnStyles}\r\n                variant=\"contained\"\r\n                onClick={deleteConversation}\r\n              >\r\n                Delete Dialog\r\n              </Button>\r\n            </div>\r\n            <hr />\r\n            <div className=\"messenger__chat\">\r\n              {messages\r\n                ? messages.map((message) => {\r\n                    return (\r\n                      <div key={message._id} ref={scrollRef}>\r\n                        <Message\r\n                          message={message}\r\n                          own={message.sender._id === store.user.id}\r\n                        />\r\n                      </div>\r\n                    );\r\n                  })\r\n                : null}\r\n            </div>\r\n            <hr />\r\n            <form className=\"messenger__form\">\r\n              {fromFriend ? (\r\n                <Input\r\n                  value={newMessage}\r\n                  type=\"text\"\r\n                  placeholder=\"Message\"\r\n                  multiline={true}\r\n                  sx={inputStyles}\r\n                  onChange={(e) => setNewMessage(e.target.value)}\r\n                />\r\n              ) : (\r\n                <div className=\"messenger__private\">\r\n                  Only friends can send messages to this user\r\n                </div>\r\n              )}\r\n              {newMessage !== \"\" ? (\r\n                <Button\r\n                  variant=\"contained\"\r\n                  sx={btnStyles}\r\n                  onClick={sendMessage}\r\n                >\r\n                  Send\r\n                </Button>\r\n              ) : (\r\n                <Button\r\n                  disabled\r\n                  variant=\"contained\"\r\n                  sx={btnStyles}\r\n                  onClick={sendMessage}\r\n                >\r\n                  Send\r\n                </Button>\r\n              )}\r\n            </form>\r\n          </>\r\n        ) : (\r\n          <div className=\"messenger__choose__chat\">Choose Dialog</div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Messenger;\r\n","import { FC } from \"react\";\r\nimport Messenger from \"../../components/Messenger/Messenger\";\r\nimport \"./messengerPage.sass\";\r\n\r\nconst MessengerPage: FC = () => {\r\n  return (\r\n    <div className=\"messengerPage__container\">\r\n      <h2 className=\"messengerPage__title\">Messages</h2>\r\n      <Messenger />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MessengerPage;\r\n","import { Routes, Route } from \"react-router-dom\";\r\nimport Layout from \"../components/Layout/Layout\";\r\nimport LoginPage from \"../Pages/Login/LoginPage\";\r\nimport RegistrationPage from \"../Pages/Registration/RegistrationPage\";\r\nimport UserSettingsPage from \"../Pages/Settings/UserSettingsPage\";\r\nimport ChangePasswordPage from \"../Pages/ChangePassword/ChangePasswordPage\";\r\nimport UserProfilePage from \"../Pages/Profile/UserProfilePage\";\r\nimport Board from \"../Pages/Board/Board\";\r\nimport Friends from \"../Pages/Friends/Friends\";\r\nimport Admin from \"../Admin/Admin\";\r\nimport RequireAuth from \"../hoc/RequireAuth\";\r\nimport AfterAuth from \"../hoc/AfterAuth\";\r\nimport RequireAdminAuth from \"../hoc/RequireAdminAuth\";\r\nimport UsersPage from \"../Pages/UsersPage/UsersPage\";\r\nimport ChangeAvatarPage from \"../Pages/ChangeAvatar/ChangeAvatarPage\";\r\nimport MessengerPage from \"../Pages/MessengerPage/MessengerPage\";\r\n\r\nconst AppRouter = () => {\r\n  return (\r\n    <Routes>\r\n      <Route path=\"/\" element={<Layout />}>\r\n        <Route\r\n          path=\"users\"\r\n          element={\r\n            <RequireAuth>\r\n              <UsersPage />\r\n            </RequireAuth>\r\n          }\r\n        />\r\n        <Route\r\n          path=\"friends/:userId\"\r\n          element={\r\n            <RequireAuth>\r\n              <Friends />\r\n            </RequireAuth>\r\n          }\r\n        />\r\n        <Route\r\n          path=\"/profile/:userId\"\r\n          element={\r\n            <RequireAuth>\r\n              <UserProfilePage />\r\n            </RequireAuth>\r\n          }\r\n        />\r\n        <Route\r\n          path=\"/login\"\r\n          element={\r\n            <AfterAuth>\r\n              <LoginPage />\r\n            </AfterAuth>\r\n          }\r\n        />\r\n        <Route\r\n          path=\"registration\"\r\n          element={\r\n            <AfterAuth>\r\n              <RegistrationPage />\r\n            </AfterAuth>\r\n          }\r\n        />\r\n        <Route\r\n          path=\"settings\"\r\n          element={\r\n            <RequireAuth>\r\n              <UserSettingsPage />\r\n            </RequireAuth>\r\n          }\r\n        />\r\n        <Route\r\n          path=\"settings/password\"\r\n          element={\r\n            <RequireAuth>\r\n              <ChangePasswordPage />\r\n            </RequireAuth>\r\n          }\r\n        />\r\n        <Route\r\n          path=\"board\"\r\n          element={\r\n            <RequireAuth>\r\n              <Board />\r\n            </RequireAuth>\r\n          }\r\n        />\r\n        <Route\r\n          path=\"chat\"\r\n          element={\r\n            <RequireAuth>\r\n              <MessengerPage />\r\n            </RequireAuth>\r\n          }\r\n        />\r\n        <Route\r\n          path=\"settings/avatar\"\r\n          element={\r\n            <RequireAuth>\r\n              <ChangeAvatarPage />\r\n            </RequireAuth>\r\n          }\r\n        />\r\n        <Route\r\n          path=\"/admin\"\r\n          element={\r\n            <RequireAdminAuth>\r\n              <Admin />\r\n            </RequireAdminAuth>\r\n          }\r\n        />\r\n        <Route\r\n          path=\"/\"\r\n          element={\r\n            <RequireAuth>\r\n              <Board />\r\n            </RequireAuth>\r\n          }\r\n        />\r\n      </Route>\r\n    </Routes>\r\n  );\r\n};\r\n\r\nexport default AppRouter;\r\n","import { useEffect, useContext } from \"react\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { Context } from \"../../index\";\r\nimport AppRouter from \"../../routes/AppRouter\";\r\nimport Header from \"../Header/Header\";\r\nimport \"./app.sass\";\r\n\r\nconst App = () => {\r\n  const { store } = useContext(Context);\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"token\")) {\r\n      store.checkAuth();\r\n    }\r\n  }, [store]);\r\n\r\n  if (store.isLoading) {\r\n    return (\r\n      <div className=\"main__box\">\r\n      <Header />\r\n    </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"main__box\">\r\n      <AppRouter />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default observer(App);\r\n","import { AxiosResponse } from \"axios\";\r\nimport api from \"../http/axios\";\r\nimport { AuthResponse } from \"../models/response/authResponse\";\r\n\r\nexport default class LoginService {\r\n  static async login(\r\n    username: string,\r\n    password: string\r\n  ): Promise<AxiosResponse<AuthResponse>> {\r\n    return api.post<AuthResponse>(\"/login\", { username, password });\r\n  }\r\n}\r\n","import { AxiosResponse } from \"axios\";\r\nimport api from \"../http/axios\";\r\nimport { AuthResponse } from \"../models/response/authResponse\";\r\n\r\nexport default class RegistrationService {\r\n  static async registration(\r\n    email: string,\r\n    username: string,\r\n    password: string,\r\n    firstName: string,\r\n    lastName: string\r\n  ): Promise<AxiosResponse<AuthResponse>> {\r\n    return api.post<AuthResponse>(\"/registration\", {\r\n      email,\r\n      username,\r\n      password,\r\n      firstName,\r\n      lastName,\r\n    });\r\n  }\r\n}\r\n","import api from \"../http/axios\";\r\n\r\nexport default class LogoutService {\r\n  static async logout(): Promise<void> {\r\n    localStorage.clear();\r\n    return api.post(\"/logout\");\r\n  }\r\n}\r\n","import api from \"../http/axios\";\r\n\r\nexport default class DeleteService {\r\n  static async delete(userId: string): Promise<void> {\r\n    return api.post(\"/delete\", { userId });\r\n  }\r\n}\r\n","import api from \"../http/axios\";\r\nimport { AuthResponse } from \"../models/response/authResponse\";\r\nimport { AxiosResponse } from \"axios\";\r\n\r\nexport default class EditProfileService {\r\n  static async edit(\r\n    userId: string,\r\n    { userInfo: { ...args } }\r\n  ): Promise<AxiosResponse<AuthResponse>> {\r\n    return api.patch<AuthResponse>(\"/editInfo\", {\r\n      userId: userId,\r\n      userInfo: { ...args },\r\n    });\r\n  }\r\n}\r\n","import api from \"../http/axios\";\r\nimport { AuthResponse } from \"../models/response/authResponse\";\r\nimport { AxiosResponse } from \"axios\";\r\n\r\nexport default class ChangePasswordService {\r\n  static async change(\r\n    userId: string,\r\n    newPassword: string,\r\n    oldPassword: string\r\n  ): Promise<AxiosResponse<AuthResponse>> {\r\n    return api.patch<AuthResponse>(\"/changePassword\", {\r\n      userId,\r\n      newPassword,\r\n      oldPassword,\r\n    });\r\n  }\r\n}\r\n","import { User } from \"../models/user\";\r\nimport { makeAutoObservable } from \"mobx\";\r\nimport axios from \"axios\";\r\nimport LoginService from \"../services/LoginService\";\r\nimport RegistrationService from \"../services/RegistrationService\";\r\nimport LogoutService from \"../services/LogoutService\";\r\nimport { AuthResponse } from \"../models/response/authResponse\";\r\nimport { API_URL } from \"../http/axios\";\r\nimport DeleteService from \"../services/DeleteService\";\r\nimport EditProfileService from \"../services/EditProfileService\";\r\nimport ChangePasswordService from \"../services/ChangePasswordService\";\r\nimport UserService from \"../services/UserService\";\r\n\r\nexport default class Store {\r\n  user = {} as User;\r\n  otherUser = {} as User;\r\n  allUsers = {} as User[];\r\n  usersLength = '';\r\n  isAuth = false;\r\n  isAdmin = false;\r\n  isLoading = false;\r\n  error: string;\r\n  successMessage: string;\r\n\r\n  constructor() {\r\n    makeAutoObservable(this);\r\n  }\r\n\r\n  setAuth(bool: boolean) {\r\n    this.isAuth = bool;\r\n  }\r\n\r\n  setAdmin(bool: boolean) {\r\n    this.isAdmin = bool;\r\n  }\r\n\r\n  setUser(user: User) {\r\n    this.user = user;\r\n  }\r\n\r\n  setOtherUser(user: User) {\r\n    this.otherUser = user;\r\n  }\r\n\r\n  setAllUsers(users: User[]) {\r\n    this.allUsers = users;\r\n  }\r\n\r\n  setUsersLength(length: string) {\r\n    this.usersLength = length;\r\n  }\r\n\r\n  setLoading(bool: boolean) {\r\n    this.isLoading = bool;\r\n  }\r\n\r\n  setError(err: string) {\r\n    this.error = err;\r\n  }\r\n\r\n  setSuccessMessage(msg: string) {\r\n    this.successMessage = msg;\r\n  }\r\n\r\n  async getOtherUser(userId: string) {\r\n    try {\r\n      await UserService.getUserInfo(userId)\r\n        .then((response) => {\r\n          this.setOtherUser(response.data.user);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  async login(username: string, password: string) {\r\n    try {\r\n      await LoginService.login(username, password)\r\n        .then((response) => {\r\n          localStorage.setItem(\"token\", response.data.accessToken);\r\n          this.setAuth(true);\r\n          this.setUser(response.data.user);\r\n          if (response.data.user.role === \"admin\") {\r\n            localStorage.setItem(\"role\", response.data.user.role);\r\n            this.setAdmin(true);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          this.setError(err.response.data.message);\r\n          setTimeout(() => this.setError(null), 2500);\r\n        });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  async delete() {\r\n    try {\r\n      localStorage.removeItem(\"token\");\r\n      localStorage.removeItem(\"role\");\r\n      await DeleteService.delete(this.user.id);\r\n      this.setAuth(false);\r\n      this.setUser({} as User);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  async editProfile(userId: string, { ...args }: object) {\r\n    try {\r\n      await EditProfileService.edit(userId, { userInfo: { ...args } });\r\n      this.setSuccessMessage(\"Successfully changed\");\r\n      setTimeout(() => this.setSuccessMessage(null), 3500);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  async changePass(userId: string, newPassword: string, oldPassword: string) {\r\n    try {\r\n      await ChangePasswordService.change(\r\n        userId,\r\n        newPassword,\r\n        oldPassword\r\n      ).catch((err) => {\r\n        this.setError(err.response.data.message);\r\n        setTimeout(() => this.setError(null), 3500);\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n  async registration(\r\n    email: string,\r\n    username: string,\r\n    password: string,\r\n    firstName: string,\r\n    lastName: string\r\n  ) {\r\n    try {\r\n      await RegistrationService.registration(\r\n        email,\r\n        username,\r\n        password,\r\n        firstName,\r\n        lastName\r\n      )\r\n        .then((response) => {\r\n          localStorage.setItem(\"token\", response.data.accessToken);\r\n          this.setAuth(true);\r\n          this.setUser(response.data.user);\r\n          if (response.data.user.role === \"admin\") {\r\n            localStorage.setItem(\"role\", response.data.user.role);\r\n            this.setAdmin(true);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          this.setError(err.response.data.message);\r\n          setTimeout(() => this.setError(null), 2500);\r\n        });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  async logout() {\r\n    try {\r\n      await LogoutService.logout();\r\n      localStorage.removeItem(\"token\");\r\n      this.setAuth(false);\r\n      this.setLoading(true);\r\n      this.setUser({} as User);\r\n    } catch (e) {\r\n      console.log(e);\r\n    } finally {\r\n      this.setLoading(false);\r\n    }\r\n  }\r\n\r\n  async checkAuth() {\r\n    this.setLoading(true);\r\n    try {\r\n      const response = await axios.get<AuthResponse>(`${API_URL}/refresh`, {\r\n        withCredentials: true,\r\n      });\r\n      localStorage.setItem(\"token\", response.data.accessToken);\r\n      this.setAuth(true);\r\n      this.setUser(response.data.user);\r\n      if (response.data.user.role === \"admin\") {\r\n        localStorage.setItem(\"role\", response.data.user.role);\r\n        this.setAdmin(true);\r\n      }\r\n    } catch (e) {\r\n      localStorage.clear();\r\n      console.log(e);\r\n    } finally {\r\n      this.setLoading(false);\r\n    }\r\n  }\r\n\r\n  async getAllUsers(args?: any, limit?: number) {\r\n    try {\r\n      const response = await UserService.fetchUsers(args, limit);\r\n      this.setAllUsers(response.data.users);\r\n      this.setUsersLength(response.data.length);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n}\r\n","import { createContext } from \"react\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App/App\";\r\nimport Store from \"./store/store\";\r\nimport \"./index.sass\";\r\n\r\ninterface State {\r\n  store: Store;\r\n}\r\n\r\nconst store = new Store();\r\n\r\nexport const Context = createContext<State>({ store });\r\n\r\nReactDOM.render(\r\n  <Context.Provider value={{ store }}>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </Context.Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}